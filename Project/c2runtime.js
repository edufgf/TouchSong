// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var l=!0,p=null,q=!1;function aa(){return function(){}}function N(b){return function(){return this[b]}}function O(b){return function(){return b}}var Q,ba,ca,S,da,ea,fa,ga,ia,ja,ka,la,ma,na,qa,ra,sa,T,ta,ua,va,xa,ya,Ca,Da,Ea,Fa,Ga,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,gb,hb,ib,jb,kb,U,lb,mb,nb,ob,pb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(c,a,e,g){this.set(c,a,e,g)}function k(){this.Mb=this.Lb=this.Ob=this.Nb=this.cc=this.ac=this.cb=this.bb=0}function f(){this.Ac={};this.Xe=0;this.zf=[];this.ye=l}function h(){this.nb=this.Ig=this.y=this.dh=0}function d(c){this.ri=[];this.rf(c)}Q=function(c){window.console&&window.console.log&&window.console.log(c)};ba=function(c){return"undefined"===typeof c};ca=function(c){return"number"===typeof c};S=function(c){return"string"===typeof c};da=function(c){return 0<c&&0===(c-
1&c)};ea=function(c){return 0>c?-c:c};fa=function(c,a){return c>a?c:a};ga=function(c,a){return c<a?c:a};ia=Math.PI;ja=function(c){return c|0};ka=function(c,a,e,g,m,s,x,u){if(fa(c,e)<ga(m,x)||ga(c,e)>fa(m,x)||fa(a,g)<ga(s,u)||ga(a,g)>fa(s,u))return q;var v=m-c+x-e,r=s-a+u-g;c=e-c;a=g-a;m=x-m;s=u-s;u=ea(a*m-s*c);return ea(m*r-s*v)<=u&&ea(c*r-a*v)<=u};b.prototype.set=function(c,a,e,g){this.left=c;this.top=a;this.right=e;this.bottom=g};b.prototype.width=function(){return this.right-this.left};b.prototype.height=
function(){return this.bottom-this.top};b.prototype.offset=function(c,a){this.left+=c;this.top+=a;this.right+=c;this.bottom+=a;return this};b.prototype.vc=function(c,a){return c>=this.left&&c<=this.right&&a>=this.top&&a<=this.bottom};la=b;k.prototype.Ii=function(c){this.bb=c.left;this.cb=c.top;this.ac=c.right;this.cc=c.top;this.Nb=c.right;this.Ob=c.bottom;this.Lb=c.left;this.Mb=c.bottom};k.prototype.hl=function(c,a){if(0===a)this.Ii(c);else{var e=Math.sin(a),g=Math.cos(a),m=c.left*e,s=c.top*e,x=c.right*
e,e=c.bottom*e,u=c.left*g,v=c.top*g,r=c.right*g,g=c.bottom*g;this.bb=u-s;this.cb=v+m;this.ac=r-s;this.cc=v+x;this.Nb=r-e;this.Ob=g+x;this.Lb=u-e;this.Mb=g+m}};k.prototype.offset=function(c,a){this.bb+=c;this.cb+=a;this.ac+=c;this.cc+=a;this.Nb+=c;this.Ob+=a;this.Lb+=c;this.Mb+=a;return this};k.prototype.pj=function(c){c.left=ga(ga(this.bb,this.ac),ga(this.Nb,this.Lb));c.top=ga(ga(this.cb,this.cc),ga(this.Ob,this.Mb));c.right=fa(fa(this.bb,this.ac),fa(this.Nb,this.Lb));c.bottom=fa(fa(this.cb,this.cc),
fa(this.Ob,this.Mb))};k.prototype.vc=function(c,a){var e=this.ac-this.bb,g=this.cc-this.cb,m=this.Nb-this.bb,s=this.Ob-this.cb,x=c-this.bb,u=a-this.cb,v=e*e+g*g,r=e*m+g*s,g=e*x+g*u,D=m*m+s*s,d=m*x+s*u,b=1/(v*D-r*r),e=(D*g-r*d)*b,v=(v*d-r*g)*b;if(0<=e&&0<v&&1>e+v)return l;e=this.Lb-this.bb;g=this.Mb-this.cb;v=e*e+g*g;r=e*m+g*s;g=e*x+g*u;b=1/(v*D-r*r);e=(D*g-r*d)*b;v=(v*d-r*g)*b;return 0<=e&&0<v&&1>e+v};ma=k;na=function(c,a){for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);return c};qa=function(c,a){var e,
g;a=ja(a);if(!(0>a||a>=c.length))if(0===a)c.shift();else if(a===c.length-1)c.pop();else{e=a;for(g=c.length-1;e<g;e++)c[e]=c[e+1];c.length=g}};ra=function(c,a){c.length=a.length;var e,g;e=0;for(g=a.length;e<g;e++)c[e]=a[e]};sa=function(c,a){var e=c.indexOf(a);-1!==e&&qa(c,e)};T=function(c){return c/(180/ia)};ta=function(c){return c*(180/ia)};ua=function(c){c%=360;0>c&&(c+=360);return c};va=function(c){c%=2*ia;0>c&&(c+=2*ia);return c};xa=function(c){return ua(ta(c))};ya=function(c){return va(T(c))};
Ca=function(c,a,e,g){return Math.atan2(g-a,e-c)};Da=function(c,a){if(c===a)return 0;var e=Math.sin(c),g=Math.cos(c),m=Math.sin(a),s=Math.cos(a),e=e*m+g*s;return 1<=e?0:-1>=e?ia:Math.acos(e)};Ea=function(c,a,e){var g=Math.sin(c),m=Math.cos(c),s=Math.sin(a),x=Math.cos(a);return Math.acos(g*s+m*x)>e?0<m*s-g*x?va(c+e):va(c-e):va(a)};Fa=function(c,a){var e=Math.sin(c),g=Math.cos(c),m=Math.sin(a),s=Math.cos(a);return 0>=g*m-e*s};Ga=function(c,a,e,g,m,s){if(0===e)return s?c:a;var x=Math.sin(e);e=Math.cos(e);
c-=g;a-=m;var u=c*x;c=c*e-a*x;a=a*e+u;return s?c+g:a+m};Ja=function(a,d,e,g){a=e-a;d=g-d;return Math.sqrt(a*a+d*d)};Ka=function(a,d){return!a!==!d};La=function(a){for(var d in a)if(a.hasOwnProperty(d))return l;return q};Ma=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var n=+new Date;Na=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.msNow)return a.msNow()}return Date.now()-n};f.prototype.contains=function(a){return this.Ac.hasOwnProperty(a.toString())};f.prototype.add=function(a){var d=a.toString();this.Ac.hasOwnProperty(d)||(this.Ac[d]=a,this.Xe++,this.ye=q);return this};f.prototype.remove=function(a){a=a.toString();this.Ac.hasOwnProperty(a)&&(delete this.Ac[a],this.Xe--,this.ye=q);return this};f.prototype.clear=function(){Ma(this.Ac);this.Xe=0;this.zf.length=0;this.ye=l;return this};f.prototype.Re=function(){return 0===
this.Xe};f.prototype.Po=function(){if(!this.ye){this.zf.length=this.Xe;var a,d=0;for(a in this.Ac)this.Ac.hasOwnProperty(a)&&(this.zf[d++]=this.Ac[a]);this.ye=l}};f.prototype.yf=function(){this.Po();return this.zf};Oa=f;h.prototype.add=function(a){this.y=a-this.dh;this.Ig=this.nb+this.y;this.dh=this.Ig-this.nb-this.y;this.nb=this.Ig};h.prototype.reset=function(){this.nb=this.Ig=this.y=this.dh=0};Pa=h;Qa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};d.prototype.rf=function(a){this.Uk=
a;this.Vk=a.length/2;this.ri.length=a.length;this.sj=this.tj=-1;this.rj=0};d.prototype.Vn=function(){return!this.Uk.length};d.prototype.hm=function(a,d,e){if(!(this.tj===a&&this.sj===d&&this.rj===e)){this.tj=a;this.sj=d;this.rj=e;var g,m,s,x=0,u=1,v=this.Uk,r=this.ri;0!==e&&(x=Math.sin(e),u=Math.cos(e));e=0;for(g=this.Vk;e<g;e++)m=v[2*e]*a,s=v[2*e+1]*d,r[2*e]=m*u-s*x,r[2*e+1]=s*u+m*x}};d.prototype.vc=function(a,d){var e=this.ri;if(a===e[0]&&d===e[1])return l;var g,m,s,x=this.Vk,u=e[0],v=u,r=e[1],
D=r;for(g=1;g<x;g++)m=e[2*g],s=e[2*g+1],m<u&&(u=m),m>v&&(v=m),s<r&&(r=s),s>D&&(D=s);m=u-110;var r=r-101,v=v+131,D=D+120,C,b,f=0,n=0;for(g=0;g<x;g++)s=e[2*g],u=e[2*g+1],C=e[2*((g+1)%x)],b=e[2*((g+1)%x)+1],ka(m,r,a,d,s,u,C,b)&&f++,ka(v,D,a,d,s,u,C,b)&&n++;return 1===f%2||1===n%2};Ra=d;var a="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Sa=function(c){return 0>=c||11<=c?"source-over":a[c-1]};Ua=function(a,d,e){if(e)switch(a.Ga=
e.ONE,a.Ea=e.ONE_MINUS_SRC_ALPHA,d){case 1:a.Ga=e.ONE;a.Ea=e.ONE;break;case 3:a.Ga=e.ONE;a.Ea=e.ZERO;break;case 4:a.Ga=e.ONE_MINUS_DST_ALPHA;a.Ea=e.ONE;break;case 5:a.Ga=e.DST_ALPHA;a.Ea=e.ZERO;break;case 6:a.Ga=e.ZERO;a.Ea=e.SRC_ALPHA;break;case 7:a.Ga=e.ONE_MINUS_DST_ALPHA;a.Ea=e.ZERO;break;case 8:a.Ga=e.ZERO;a.Ea=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ga=e.DST_ALPHA;a.Ea=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ga=e.ONE_MINUS_DST_ALPHA,a.Ea=e.SRC_ALPHA}};Va=function(a){return Math.round(1E6*a)/1E6}})();
var qb="undefined"!==typeof Float32Array?Float32Array:Array;function rb(b){var k=new qb(3);b&&(k[0]=b[0],k[1]=b[1],k[2]=b[2]);return k}function sb(b){var k=new qb(16);b&&(k[0]=b[0],k[1]=b[1],k[2]=b[2],k[3]=b[3],k[4]=b[4],k[5]=b[5],k[6]=b[6],k[7]=b[7],k[8]=b[8],k[9]=b[9],k[10]=b[10],k[11]=b[11],k[12]=b[12],k[13]=b[13],k[14]=b[14],k[15]=b[15]);return k}
function tb(b,k){k[0]=b[0];k[1]=b[1];k[2]=b[2];k[3]=b[3];k[4]=b[4];k[5]=b[5];k[6]=b[6];k[7]=b[7];k[8]=b[8];k[9]=b[9];k[10]=b[10];k[11]=b[11];k[12]=b[12];k[13]=b[13];k[14]=b[14];k[15]=b[15]}function ub(b,k){var f=k[0],h=k[1];k=k[2];b[0]*=f;b[1]*=f;b[2]*=f;b[3]*=f;b[4]*=h;b[5]*=h;b[6]*=h;b[7]*=h;b[8]*=k;b[9]*=k;b[10]*=k;b[11]*=k}
function vb(b,k,f,h){h||(h=sb());var d,n,a,c,w,e,g,m,s=b[0],x=b[1];b=b[2];n=f[0];a=f[1];d=f[2];f=k[1];e=k[2];s===k[0]&&x===f&&b===e?(b=h,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(f=s-k[0],e=x-k[1],g=b-k[2],m=1/Math.sqrt(f*f+e*e+g*g),f*=m,e*=m,g*=m,k=a*g-d*e,d=d*f-n*g,n=n*e-a*f,(m=Math.sqrt(k*k+d*d+n*n))?(m=1/m,k*=m,d*=m,n*=m):n=d=k=0,a=e*n-g*d,c=g*k-f*n,w=f*d-e*k,(m=Math.sqrt(a*a+c*c+w*w))?(m=1/m,a*=m,c*=m,w*=m):w=c=a=0,
h[0]=k,h[1]=a,h[2]=f,h[3]=0,h[4]=d,h[5]=c,h[6]=e,h[7]=0,h[8]=n,h[9]=w,h[10]=g,h[11]=0,h[12]=-(k*s+d*x+n*b),h[13]=-(a*s+c*x+w*b),h[14]=-(f*s+e*x+g*b),h[15]=1)}
(function(){function b(a){this.height=this.width=0;this.uj=rb([0,0,100]);this.uk=rb([0,0,0]);this.Al=rb([0,1,0]);this.Zi=rb([1,1,1]);this.ai=sb();this.Cb=sb();this.jk=sb();this.mh=sb();this.m=a;this.Zj()}function k(a,c,d){this.m=a;this.sf=c;this.name=d;this.Bb=a.getAttribLocation(c,"aPos");this.Uc=a.getAttribLocation(c,"aTex");this.sk=a.getUniformLocation(c,"matP");this.de=a.getUniformLocation(c,"matMV");this.ee=a.getUniformLocation(c,"opacity");this.tk=a.getUniformLocation(c,"samplerFront");this.rg=
a.getUniformLocation(c,"samplerBack");this.be=a.getUniformLocation(c,"destStart");this.ae=a.getUniformLocation(c,"destEnd");this.Yh=a.getUniformLocation(c,"seconds");this.Xh=a.getUniformLocation(c,"pixelWidth");this.Wh=a.getUniformLocation(c,"pixelHeight");this.Vh=a.getUniformLocation(c,"layerScale");this.ee&&a.uniform1f(this.ee,1);this.tk&&a.uniform1i(this.tk,0);this.rg&&a.uniform1i(this.rg,1);this.be&&a.uniform2f(this.be,0,0);this.ae&&a.uniform2f(this.ae,1,1);this.yd=q}function f(a,c){this.type=
a;this.D=c;this.m=c.m;this.lc=this.Db=this.Hk=0;this.q=this.Gd=p;this.Ji=[]}function h(a){--a;for(var c=1;32>c;c<<=1)a|=a>>c;return a+1}b.prototype.Zj=function(){var a=this.m,c;this.kk=1;this.Xd=p;this.Aj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.pq=a.getParameter(a.MAX_TEXTURE_SIZE);this.lk=a.ONE;this.ik=a.ONE_MINUS_SRC_ALPHA;this.oi=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,
this.oi);this.Bf=Array(4);this.wf=Array(4);for(c=0;4>c;c++)this.Bf[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Bf[c]),this.wf[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.wf[c]);this.wc=0;this.Mn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Mn);this.Xi=new Float32Array(16E3);this.Oi=new Float32Array(16E3);this.mo=new Float32Array(32E3);for(var d=new Uint16Array(12E3),e=c=0;12E3>c;)d[c++]=e,d[c++]=e+1,d[c++]=e+2,d[c++]=e,d[c++]=e+2,d[c++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
d,a.STATIC_DRAW);this.pi=this.rc=0;this.ua=[];c=this.jh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.ua.push(c);c=this.jh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ua.push(c);for(var g in wb)wb.hasOwnProperty(g)&&this.ua.push(this.jh(wb[g],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,p);this.Mc=[];this.uc=0;this.yb=this.Ta=q;this.Bj=this.Ye=-1;this.Be=p;this.$m=a.createFramebuffer();this.Yk=p;this.gd=rb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.qq=a[0];this.oq=a[1];
this.pc(0)};b.prototype.jh=function(a,c,d){var e=this.m,g=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(g,a.src);e.compileShader(g);if(!e.getShaderParameter(g,e.COMPILE_STATUS))return e.deleteShader(g),p;var m=e.createShader(e.VERTEX_SHADER);e.shaderSource(m,c);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(g),e.deleteShader(m),p;c=e.createProgram();e.attachShader(c,g);e.attachShader(c,m);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(g),
e.deleteShader(m),e.deleteProgram(c),p;e.useProgram(c);e.validateProgram(c);e.deleteShader(g);e.deleteShader(m);d=new k(e,c,d);d.sh=a.sh||0;d.th=a.th||0;d.zj=!!a.zj;d.mj=!!a.mj;d.n=a.n||[];a=0;for(g=d.n.length;a<g;a++)d.n[a][1]=e.getUniformLocation(c,d.n[a][0]),e.uniform1f(d.n[a][1],0);return d};b.prototype.Dh=function(a){var c,d;c=0;for(d=this.ua.length;c<d;c++)if(this.ua[c].name===a)return c;return-1};b.prototype.Tk=function(a,c,d){var e=[0,0,this.width,this.height],g=this.Cb,m=this.ai,s=[0,0,0,
0,0,0,0,0];s[0]=g[0]*a+g[4]*c+g[12];s[1]=g[1]*a+g[5]*c+g[13];s[2]=g[2]*a+g[6]*c+g[14];s[3]=g[3]*a+g[7]*c+g[15];s[4]=m[0]*s[0]+m[4]*s[1]+m[8]*s[2]+m[12]*s[3];s[5]=m[1]*s[0]+m[5]*s[1]+m[9]*s[2]+m[13]*s[3];s[6]=m[2]*s[0]+m[6]*s[1]+m[10]*s[2]+m[14]*s[3];s[7]=-s[2];0!==s[7]&&(s[7]=1/s[7],s[4]*=s[7],s[5]*=s[7],s[6]*=s[7],d[0]=(0.5*s[4]+0.5)*e[2]+e[0],d[1]=(0.5*s[5]+0.5)*e[3]+e[1])};b.prototype.Hi=function(a,c,d){if(!(this.width===a&&this.height===c&&!d)){this.vd();this.width=a;this.height=c;this.m.viewport(0,
0,a,c);c=a/c;var e=this.ai,g;g=1*Math.tan(45*Math.PI/360);c*=g;a=-c;d=-g;e||(e=sb());var m=c-a,s=g-d;e[0]=2/m;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/s;e[6]=0;e[7]=0;e[8]=(c+a)/m;e[9]=(g+d)/s;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;vb(this.uj,this.uk,this.Al,this.Cb);a=[0,0];c=[0,0];this.Tk(0,0,a);this.Tk(1,1,c);this.Zi[0]=1/(c[0]-a[0]);this.Zi[1]=-1/(c[1]-a[1]);a=0;for(c=this.ua.length;a<c;a++)d=this.ua[a],d.yd=q,d.sk&&(this.m.useProgram(d.sf),this.m.uniformMatrix4fv(d.sk,q,this.ai));
this.m.useProgram(this.ua[this.Ye].sf);this.m.bindTexture(this.m.TEXTURE_2D,p);this.Xd=p}};b.prototype.Zc=function(){vb(this.uj,this.uk,this.Al,this.Cb);ub(this.Cb,this.Zi)};b.prototype.translate=function(a,c){if(!(0===a&&0===c)){this.gd[0]=a;this.gd[1]=c;this.gd[2]=0;var d=this.Cb,e=this.gd,g=e[0],m=e[1],e=e[2];d[12]=d[0]*g+d[4]*m+d[8]*e+d[12];d[13]=d[1]*g+d[5]*m+d[9]*e+d[13];d[14]=d[2]*g+d[6]*m+d[10]*e+d[14];d[15]=d[3]*g+d[7]*m+d[11]*e+d[15]}};b.prototype.scale=function(a,c){1===a&&1===c||(this.gd[0]=
a,this.gd[1]=c,this.gd[2]=1,ub(this.Cb,this.gd))};b.prototype.Zk=function(a){if(0!==a){var c=this.Cb,d,e=Math.sin(a);a=Math.cos(a);var g=c[0],m=c[1],s=c[2],x=c[3],u=c[4],v=c[5],r=c[6],D=c[7];d?c!==d&&(d[8]=c[8],d[9]=c[9],d[10]=c[10],d[11]=c[11],d[12]=c[12],d[13]=c[13],d[14]=c[14],d[15]=c[15]):d=c;d[0]=g*a+u*e;d[1]=m*a+v*e;d[2]=s*a+r*e;d[3]=x*a+D*e;d[4]=g*-e+u*a;d[5]=m*-e+v*a;d[6]=s*-e+r*a;d[7]=x*-e+D*a}};b.prototype.jd=function(){for(var a=q,c=0;16>c;c++)if(this.jk[c]!==this.Cb[c]){a=l;break}a&&(a=
this.Vb(),a.type=5,a.q?tb(this.Cb,a.q):a.q=sb(this.Cb),tb(this.Cb,this.jk),this.yb=this.Ta=q)};f.prototype.zm=function(){this.m.bindTexture(this.m.TEXTURE_2D,this.Gd)};f.prototype.wm=function(){var a=this.Hk,c=this.D;c.Aj=a;c=c.Be;c.ee&&this.m.uniform1f(c.ee,a)};f.prototype.tm=function(){this.m.drawElements(this.m.TRIANGLES,this.lc,this.m.UNSIGNED_SHORT,2*this.Db)};f.prototype.vm=function(){this.m.blendFunc(this.Db,this.lc)};f.prototype.Am=function(){var a,c,d,e=this.D.ua,g=this.D.Bj;a=0;for(c=e.length;a<
c;a++)d=e[a],a===g&&d.de?(this.m.uniformMatrix4fv(d.de,q,this.q),d.yd=l):d.yd=q;tb(this.q,this.D.mh)};f.prototype.um=function(){var a=this.m,c=this.D;this.Gd?(a.bindFramebuffer(a.FRAMEBUFFER,c.$m),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Gd,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,p,0),a.bindFramebuffer(a.FRAMEBUFFER,p))};f.prototype.qm=function(){var a=this.m;0===this.Db?(a.clearColor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clear(a.COLOR_BUFFER_BIT)):
(a.enable(a.SCISSOR_TEST),a.scissor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clearColor(0,0,0,0),a.clear(this.m.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};f.prototype.rm=function(){var a=this.m,c=this.D,d=c.ua[1];a.useProgram(d.sf);!d.yd&&d.de&&(a.uniformMatrix4fv(d.de,q,c.mh),d.yd=l);a.enableVertexAttribArray(d.Bb);a.bindBuffer(a.ARRAY_BUFFER,c.oi);a.vertexAttribPointer(d.Bb,4,a.FLOAT,q,0,0);a.drawArrays(a.POINTS,this.Db/4,this.lc);d=c.Be;a.useProgram(d.sf);0<=d.Bb&&(a.enableVertexAttribArray(d.Bb),
a.bindBuffer(a.ARRAY_BUFFER,c.Bf[c.wc]),a.vertexAttribPointer(d.Bb,2,a.FLOAT,q,0,0));0<=d.Uc&&(a.enableVertexAttribArray(d.Uc),a.bindBuffer(a.ARRAY_BUFFER,c.wf[c.wc]),a.vertexAttribPointer(d.Uc,2,a.FLOAT,q,0,0))};f.prototype.xm=function(){var a=this.m,c=this.D,d=c.ua[this.Db];c.Bj=this.Db;c.Be=d;a.useProgram(d.sf);!d.yd&&d.de&&(a.uniformMatrix4fv(d.de,q,c.mh),d.yd=l);d.ee&&a.uniform1f(d.ee,c.Aj);0<=d.Bb&&(a.enableVertexAttribArray(d.Bb),a.bindBuffer(a.ARRAY_BUFFER,c.Bf[c.wc]),a.vertexAttribPointer(d.Bb,
2,a.FLOAT,q,0,0));0<=d.Uc&&(a.enableVertexAttribArray(d.Uc),a.bindBuffer(a.ARRAY_BUFFER,c.wf[c.wc]),a.vertexAttribPointer(d.Uc,2,a.FLOAT,q,0,0))};f.prototype.ym=function(){var a,c,d=this.D.Be,e=this.m;d.rg&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.Gd),e.activeTexture(e.TEXTURE0));d.Xh&&e.uniform1f(d.Xh,this.q[0]);d.Wh&&e.uniform1f(d.Wh,this.q[1]);d.be&&e.uniform2f(d.be,this.q[2],this.q[3]);d.ae&&e.uniform2f(d.ae,this.q[4],this.q[5]);d.Vh&&e.uniform1f(d.Vh,this.q[6]);d.Yh&&e.uniform1f(d.Yh,
Na()/1E3);if(d.n.length){a=0;for(c=d.n.length;a<c;a++)e.uniform1f(d.n[a][1],this.Ji[a])}};b.prototype.Vb=function(){this.uc===this.Mc.length&&this.Mc.push(new f(0,this));return this.Mc[this.uc++]};b.prototype.vd=function(){if(0!==this.uc&&!this.m.isContextLost()){var a=this.m;0<this.pi&&(a.bindBuffer(a.ARRAY_BUFFER,this.oi),a.bufferData(a.ARRAY_BUFFER,this.mo.subarray(0,this.pi),a.STREAM_DRAW),c&&(0<=c.Bb&&"<point>"===c.name)&&a.vertexAttribPointer(c.Bb,4,a.FLOAT,q,0,0));if(0<this.rc){var c=this.Be;
a.bindBuffer(a.ARRAY_BUFFER,this.Bf[this.wc]);a.bufferData(a.ARRAY_BUFFER,this.Xi.subarray(0,this.rc),a.STREAM_DRAW);c&&(0<=c.Bb&&"<point>"!==c.name)&&a.vertexAttribPointer(c.Bb,2,a.FLOAT,q,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.wf[this.wc]);a.bufferData(a.ARRAY_BUFFER,this.Oi.subarray(0,this.rc),a.STREAM_DRAW);c&&(0<=c.Uc&&"<point>"!==c.name)&&a.vertexAttribPointer(c.Uc,2,a.FLOAT,q,0,0)}for(var d,a=0,c=this.uc;a<c;a++)switch(d=this.Mc[a],d.type){case 1:d.tm();break;case 2:d.zm();break;case 3:d.wm();
break;case 4:d.vm();break;case 5:d.Am();break;case 6:d.um();break;case 7:d.qm();break;case 8:d.rm();break;case 9:d.xm();break;case 10:d.ym()}this.pi=this.rc=this.uc=0;this.yb=this.Ta=q;this.wc++;4<=this.wc&&(this.wc=0)}};b.prototype.qf=function(a){if(a!==this.kk){var c=this.Vb();c.type=3;this.kk=c.Hk=a;this.yb=this.Ta=q}};b.prototype.Yb=function(a){if(a!==this.Xd){var c=this.Vb();c.type=2;this.Xd=c.Gd=a;this.yb=this.Ta=q}};b.prototype.$c=function(a,c){if(!(a===this.lk&&c===this.ik)){var d=this.Vb();
d.type=4;d.Db=a;d.lc=c;this.lk=a;this.ik=c;this.yb=this.Ta=q}};b.prototype.el=function(){this.$c(this.m.ONE,this.m.ONE_MINUS_SRC_ALPHA)};b.prototype.Cg=function(a,c,d,e,g,m,s,x){15992<=this.rc&&this.vd();var u=this.rc,v=this.Xi,r=this.Oi;if(this.Ta)this.Mc[this.uc-1].lc+=6;else{var D=this.Vb();D.type=1;D.Db=3*(u/4);D.lc=6;this.Ta=l;this.yb=q}v[u]=a;r[u++]=0;v[u]=c;r[u++]=0;v[u]=d;r[u++]=1;v[u]=e;r[u++]=0;v[u]=g;r[u++]=1;v[u]=m;r[u++]=1;v[u]=s;r[u++]=0;v[u]=x;r[u++]=1;this.rc=u};b.prototype.Fd=function(a,
c,d,e,g,m,s,x,u){15992<=this.rc&&this.vd();var v=this.rc,r=this.Xi,D=this.Oi;if(this.Ta)this.Mc[this.uc-1].lc+=6;else{var C=this.Vb();C.type=1;C.Db=3*(v/4);C.lc=6;this.Ta=l;this.yb=q}r[v]=a;D[v++]=u.left;r[v]=c;D[v++]=u.top;r[v]=d;D[v++]=u.right;r[v]=e;D[v++]=u.top;r[v]=g;D[v++]=u.right;r[v]=m;D[v++]=u.bottom;r[v]=s;D[v++]=u.left;r[v]=x;D[v++]=u.bottom;this.rc=v};b.prototype.pc=function(a){if(this.Ye!==a){if(!this.ua[a]){if(0===this.Ye)return;a=0}var c=this.Vb();c.type=9;this.Ye=c.Db=a;this.yb=this.Ta=
q}};b.prototype.lf=function(a){a=this.ua[a];return!(!a.be&&!a.ae)};b.prototype.qi=function(a){return this.ua[a].zj};b.prototype.ro=function(a){a=this.ua[a];return 0!==a.sh||0!==a.th};b.prototype.tn=function(a){return this.ua[a].sh};b.prototype.un=function(a){return this.ua[a].th};b.prototype.vn=function(a,c){return this.ua[a].n[c][2]};b.prototype.Bg=function(a){return this.ua[a].mj};b.prototype.ne=function(a,c,d,e,g,m,s,x,u){var v=this.ua[this.Ye];if(v.Xh||v.Wh||v.Yh||v.rg||v.be||v.ae||v.Vh||u.length){v=
this.Vb();v.type=10;v.q?tb(this.Cb,v.q):v.q=sb();v.q[0]=c;v.q[1]=d;v.q[2]=e;v.q[3]=g;v.q[4]=m;v.q[5]=s;v.q[6]=x;v.Gd=a;if(u.length){v.Ji.length=u.length;a=0;for(c=u.length;a<c;a++)v.Ji[a]=u[a]}this.yb=this.Ta=q}};b.prototype.clear=function(a,c,d,e){var g=this.Vb();g.type=7;g.Db=0;g.q||(g.q=sb());g.q[0]=a;g.q[1]=c;g.q[2]=d;g.q[3]=e;this.yb=this.Ta=q};b.prototype.clearRect=function(a,d,b,e){var g=this.Vb();g.type=7;g.Db=1;g.q||(g.q=sb());g.q[0]=a;g.q[1]=d;g.q[2]=b;g.q[3]=e;this.yb=this.Ta=q};b.prototype.qo=
function(){this.vd();this.m.flush()};var d=[],n={};b.prototype.rk=function(a,c,b){var e;e=!!q;c=!!c;var g=a.src+","+e+","+c+(e?",undefined":""),m=p;if("undefined"!==typeof a.src&&n.hasOwnProperty(g))return m=n[g],m.Hf++,m;this.vd();var s=this.m,x=da(a.width)&&da(a.height),m=s.createTexture();s.bindTexture(s.TEXTURE_2D,m);s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l);var u=s.RGBA,v=s.RGBA,r=s.UNSIGNED_BYTE;if(b)switch(b){case 1:v=u=s.RGB;break;case 2:r=s.UNSIGNED_SHORT_4_4_4_4;break;case 3:r=s.UNSIGNED_SHORT_5_5_5_1;
break;case 4:v=u=s.RGB,r=s.UNSIGNED_SHORT_5_6_5}!x&&e?(b=document.createElement("canvas"),b.width=h(a.width),b.height=h(a.height),b.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height),s.texImage2D(s.TEXTURE_2D,0,u,v,r,b)):s.texImage2D(s.TEXTURE_2D,0,u,v,r,a);e?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.REPEAT),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.REPEAT)):(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,
s.CLAMP_TO_EDGE));c?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),x?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR_MIPMAP_LINEAR),s.generateMipmap(s.TEXTURE_2D)):s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR)):(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST));s.bindTexture(s.TEXTURE_2D,p);this.Xd=p;m.xe=a.width;m.we=a.height;m.Hf=1;m.qj=g;d.push(m);return n[g]=m};b.prototype.Nc=function(a,
c,b){this.vd();var e=this.m,g=e.createTexture();e.bindTexture(e.TEXTURE_2D,g);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,c,0,e.RGBA,e.UNSIGNED_BYTE,p);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,b?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,b?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,p);this.Xd=p;g.xe=a;g.we=c;d.push(g);return g};b.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.Hf&&1<a.Hf?a.Hf--:(this.vd(),this.m.bindTexture(this.m.TEXTURE_2D,p),this.Xd=p,sa(d,a),"undefined"!==typeof a.qj&&delete n[a.qj],this.m.deleteTexture(a)))};b.prototype.Gc=function(a){if(a!==this.Yk){var d=this.Vb();d.type=6;this.Yk=d.Gd=a;this.yb=this.Ta=q}};Wa=b})();
(function(){function b(m){if(m&&(m.getContext||m.dc)&&!m.c2runtime){m.c2runtime=this;var a=this;this.Bd="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.zb=!!m.dc;this.Td="undefined"!==typeof window.AppMobi||this.zb;if(this.mc=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(l)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(q)});this.Wa=this.zb||this.mc;this.cg=
/tizen/i.test(navigator.userAgent);this.bk=/android/i.test(navigator.userAgent)&&!this.cg;this.kq=/msie/i.test(navigator.userAgent);this.hg=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.gk=/ipad/i.test(navigator.userAgent);this.gg=this.hg||this.gk;this.ck=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Qn=!this.ck&&/safari/i.test(navigator.userAgent);this.ek=/windows/i.test(navigator.userAgent);this.Se="undefined"!==typeof window.c2nodewebkit;
this.On="undefined"!==typeof window.is_scirra_arcade;this.Tn=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.Un=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.Pn=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.Ud=this.Bd||this.Td||this.mc||this.bk||this.gg||this.Un||this.Pn||this.cg;this.Ud||(this.Ud=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
if("undefined"!==typeof cr_is_preview&&!this.Se&&("?nw"===window.location.search||/nodewebkit/i.test(navigator.userAgent)))this.Se=l;this.canvas=m;this.vj=document.getElementById("c2canvasdiv");this.P=this.D=this.m=p;this.canvas.oncontextmenu=function(m){m.preventDefault&&m.preventDefault();return q};this.canvas.onselectstart=function(m){m.preventDefault&&m.preventDefault();return q};this.zb&&(window.c2runtime=this);this.Se&&(window.sq=function(m){m.preventDefault();return q},window.tq=function(m){m.preventDefault();
return q});this.width=m.width;this.height=m.height;this.ok=this.width;this.nk=this.height;this.W=l;this.Ue=q;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.fa=[];this.Th={};this.Tb=[];this.rh={};this.wd=[];this.kd=[];this.Mg=[];this.cm=[];this.hc=new Oa;this.Lh=q;this.Qb=0;this.Nh=q;this.gc=[];this.dk=q;this.Bc=this.Ja=this.pg=this.Fi="";this.uf=this.kl=q;this.To=this.ih=this.tg=this.Pc=this.ud=0;this.Hd=1;this.Rb=new Pa;this.lg=0;this.vk=l;this.vg=this.Tf=
this.Pd=this.xf=this.Ze=this.vh=0;this.gh=p;this.oh=[];this.qh=[];this.Pf=-1;this.Zh=[[]];this.Ti=this.sg=0;this.ti(p);this.mq=[];this.nq=-1;this.yk=this.ef=0;this.qk=l;this.De=0;this.vf=[];this.Qi=this.vi=0;this.ig=l;this.$d=0;this.bg=q;this.Ho=0;this.Zf=q;this.fi=new Oa;this.gi=new Oa;this.uo=[];this.vq=new Ra([]);this.wq=new Ra([]);this.Md=[];this.Df={};this.Od={};this.Ld={};this.re={};this.oj={};this.Sb=this.mb=this.pk=this.ng=this.O=p;this.qe=this.Oh=q;this.wh=[p,p];this.Ge=0;this.an="";this.he=
{};this.Hg=this.Zd=p;this.Go="";this.load();this.devicePixelRatio=(this.Te=!this.Wa&&this.Ro&&(this.gg||this.cg))?window.devicePixelRatio||1:1;this.Da();var d;"undefined"!==typeof jQuery&&0<this.wb&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.Cm&&(this.mc||!this.Wa)){d={depth:q,antialias:!this.Ud};var c=l;if(this.ck&&this.ek){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",d)||e.getContext("experimental-webgl",
d)).getSupportedExtensions().toString())c=q}c&&(this.m=m.getContext("webgl",d)||m.getContext("experimental-webgl",d))}}catch(r){}if(this.m){this.Wa||(this.Oa=document.createElement("canvas"),jQuery(this.Oa).appendTo(this.canvas.parentNode),this.Oa.oncontextmenu=O(q),this.Oa.onselectstart=O(q),this.Oa.width=m.width,this.Oa.height=m.height,this.Rk(),this.mi=this.Oa.getContext("2d"));this.D=new Wa(this.m,this.Ud);this.D.Hi(m.width,m.height);this.P=p;this.canvas.addEventListener("webglcontextlost",function(m){m.preventDefault();
a.$n();window.cr_setSuspended(l)},q);this.canvas.addEventListener("webglcontextrestored",function(){a.D.Zj();a.D.Hi(a.D.width,a.D.height,l);a.mb=p;a.Sb=p;a.wh[0]=p;a.wh[1]=p;a.ao();a.W=l;window.cr_setSuspended(q)},q);var g,C,b,f,n;m=0;for(d=this.j.length;m<d;m++){g=this.j[m];c=0;for(e=g.A.length;c<e;c++)b=g.A[c],b.Ca=this.D.Dh(b.id),this.qe=this.qe||this.D.lf(b.Ca)}m=0;for(d=this.Tb.length;m<d;m++){f=this.Tb[m];c=0;for(e=f.A.length;c<e;c++)b=f.A[c],b.Ca=this.D.Dh(b.id);c=0;for(e=f.K.length;c<e;c++){n=
f.K[c];g=0;for(C=n.A.length;g<C;g++)b=n.A[g],b.Ca=this.D.Dh(b.id),this.qe=this.qe||this.D.lf(b.Ca)}}}else{if(0<this.wb&&this.zb){this.canvas=p;document.oncontextmenu=O(q);document.onselectstart=O(q);this.P=AppMobi.canvas.getContext("2d");try{this.P.samplingMode=this.na?"smooth":"sharp",this.P.globalScale=1,this.P.HTML5CompatibilityMode=l}catch(h){}0!==this.width&&0!==this.height&&(this.P.width=this.width,this.P.height=this.height)}this.P||(this.mc?(d={antialias:!!this.na},this.P=m.getContext("2d",
d)):this.P=m.getContext("2d"),this.P.webkitImageSmoothingEnabled=this.na,this.P.mozImageSmoothingEnabled=this.na,this.P.msImageSmoothingEnabled=this.na,this.P.imageSmoothingEnabled=this.na);this.mi=this.Oa=p}this.ql=function(){a.Pa()};window!=window.top&&(!this.Wa&&!this.Tn)&&(document.addEventListener("mousedown",function(){window.focus()},l),document.addEventListener("touchstart",function(){window.focus()},l));"undefined"!==typeof cr_is_preview&&(this.mc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
"?continuous"===window.location.search&&(Q("Reloading for continuous preview"),this.pg="__c2_continuouspreview",this.uf=l),this.lo&&!this.Ud&&(jQuery(window).focus(function(){a.setSuspended(q)}),jQuery(window).blur(function(){a.setSuspended(l)})));this.go();this.Z={}}}function k(m){m.target.result.createObjectStore("saves",{keyPath:"slot"})}function f(m,a,d,c){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=k;e.onerror=c;e.onsuccess=function(e){e=e.target.result;e.onerror=c;e.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:m,data:a}).onsuccess=d}}function h(m,a,d){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=k;c.onerror=d;c.onsuccess=function(c){c=c.target.result;c.onerror=d;var e=c.transaction(["saves"]).objectStore("saves").get(m);e.onsuccess=function(){e.result?a(e.result.data):a(p)}}}function d(){Q("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():"?continuous"===window.location.search?window.location.reload(l):window.location+="?continuous"}
function n(m){var a,d={};for(a in m)m.hasOwnProperty(a)&&!(m[a]instanceof Oa)&&"undefined"===typeof m[a].dq&&"mouseOverInverted"!==a&&(d[a]=m[a]);return d}b.prototype.setSize=function(m,a){var d=this.Kn&&this.hg&&!navigator.standalone&&!this.Wa&&!this.Bd,c=0;d&&(this.hg?c=60:this.bk&&(c=56),a+=c);var e=0,r=0,g=0,b=0,f=0,f=this.wb,n=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.bg;n&&0<this.Ge&&(f=this.Ge);4<=f?(g=this.Za/this.Ya,m/a>g?(g*=a,5===f?(f=g/this.Za,1<f?
f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),g=this.Za*f,b=this.Ya*f,e=(m-g)/2,r=(a-b)/2,m=g,a=b):(e=(m-g)/2,m=g)):(b=m/g,5===f?(f=b/this.Ya,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),g=this.Za*f,b=this.Ya*f,e=(m-g)/2,r=(a-b)/2,m=g):r=(a-b)/2,a=b),n&&!this.Se&&(r=e=0),e=Math.floor(e),r=Math.floor(r),m=Math.floor(m),a=Math.floor(a)):this.Se&&(this.bg&&0===this.Lj)&&(e=Math.floor((m-this.Za)/2),r=Math.floor((a-this.Ya)/2),m=this.Za,a=this.Ya);this.Te&&(this.gk&&1<this.devicePixelRatio)&&(1024<=m&&(m=
1023),1024<=a&&(a=1023));n=this.devicePixelRatio;this.width=m*n;this.height=a*n;this.W=l;this.vj&&!this.Wa&&(jQuery(this.vj).css({width:m+"px",height:a+"px","margin-left":e,"margin-top":r}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:m+"px",height:a+"px"}));this.canvas&&(this.canvas.width=m*n,this.canvas.height=a*n,this.Te&&jQuery(this.canvas).css({width:m+"px",height:a+"px"}));this.Oa&&(this.Oa.width=m,this.Oa.height=a);this.D&&this.D.Hi(m,a);this.zb&&this.P&&(this.P.width=
m,this.P.height=a);this.P&&(this.P.webkitImageSmoothingEnabled=this.na,this.P.mozImageSmoothingEnabled=this.na,this.P.msImageSmoothingEnabled=this.na,this.P.imageSmoothingEnabled=this.na);d&&0<c&&window.setTimeout(function(){window.scrollTo(0,1)},100)};b.prototype.$n=function(){this.Oh=l;var m,a,d;m=0;for(a=this.j.length;m<a;m++)d=this.j[m],d.Ck&&d.Ck()};b.prototype.ao=function(){this.Oh=q;var m,a,d;m=0;for(a=this.j.length;m<a;m++)d=this.j[m],d.Ek&&d.Ek()};b.prototype.Rk=function(){if(!this.Wa){var m=
document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.bg?jQuery(this.canvas).offset():jQuery(this.canvas).position();m.position="absolute";jQuery(this.Oa).css(m)}};var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(m){var d;if(m&&!this.Ue){Q("[Construct 2] Suspending");this.Ue=l;0!==this.vi&&a&&a(this.vi);0!==this.Qi&&clearTimeout(this.Qi);
m=0;for(d=this.vf.length;m<d;m++)this.vf[m](l)}else if(!m&&this.Ue){Q("[Construct 2] Resuming");this.Ue=q;this.lg=Na();this.Ze=Na();m=this.Tf=0;for(d=this.vf.length;m<d;m++)this.vf[m](q);this.Pa()}};b.prototype.jj=function(m){this.vf.push(m)};b.prototype.load=function(){var m=xb();this.name=m[0];this.Kj=m[1];this.wb=m[11];this.Lj=m[11];if(this.Wa&&(4<=m[11]||0===m[11]))Q("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Lj=this.wb=
3;this.Vi=m[17];this.bf=m[18];0===this.bf&&(this.Zd=new Image,this.Zd.src="loading-logo.png");this.ef=m[20];this.qc=new V(this);var a,d,c,e,r,g,b,f,n;a=0;for(d=m[2].length;a<d;a++)b=m[2][a],yb(b),n=new b[0](this),n.Li=b[1],n.Tc=b[2],n.xk=b[9],n.qa&&n.qa(),this.plugins.push(n);m=xb();a=0;for(d=m[3].length;a<d;a++){b=m[3][a];r=b[1];n=p;c=0;for(e=this.plugins.length;c<e;c++)if(this.plugins[c]instanceof r){n=this.plugins[c];break}var h=new n.Jb(n);h.name=b[0];h.G=b[2];h.Kh=b[3].slice(0);h.So=b[3].length;
h.em=b[4];h.dn=b[5];h.H=b[11];h.G?(h.ug=[],h.kc=this.De++,h.U=p):(h.ug=p,h.kc=-1,h.U=[]);h.Rf=p;h.Qd=p;h.Gj=p;h.lb=q;h.Na=p;b[6]?(h.nl=b[6][0],h.ol=b[6][1],h.Ko=b[6][2]):(h.nl=p,h.ol=0,h.Ko=0);h.Ra=b[7]?b[7]:p;h.index=a;h.c=[];h.Mf=[];h.cd=[new Xa(h)];h.xc=0;h.tb=p;h.ed=l;h.Ng=zb;h.nn=Ab;h.sn=Bb;h.R=Cb;h.mf=Db;h.si=Ib;h.me=Jb;h.Uf=Kb;h.yh=Lb;h.Ah=Mb;h.ve=Nb;h.Z={};h.toString=Ob;h.fa=[];c=0;for(e=b[8].length;c<e;c++){f=b[8][c];var k=f[1],w=p;r=0;for(g=this.fa.length;r<g;r++)if(this.fa[r]instanceof
k){w=this.fa[r];break}w||(w=new k(this),w.di=new Oa,w.qa&&w.qa(),this.fa.push(w));r=new w.Jb(w,h);r.name=f[0];r.H=f[2];r.qa();h.fa.push(r)}h.global=b[9];h.Mh=b[10];h.A=[];c=0;for(e=b[12].length;c<e;c++)h.A.push({id:b[12][c][0],name:b[12][c][1],Ca:-1,sc:l,index:c});(!this.Vi||h.G||h.Mh||!n.Tc)&&h.qa();h.name&&(this.types[h.name]=h);this.j.push(h);n.Li&&(c=new n.Qa(h),c.uid=this.ef++,c.Wk=this.yk++,c.Ne=0,c.Ke=Pb,c.toString=Qb,c.Aa=b[13],c.qa(),h.c.push(c))}a=0;for(d=m[4].length;a<d;a++){r=m[4][a];
g=this.j[r[0]];c=1;for(e=r.length;c<e;c++)b=this.j[r[c]],b.U.push(g),g.ug.push(b)}a=0;for(d=m[22].length;a<d;a++){r=m[22][a];g=[];c=0;for(e=r.length;c<e;c++)g.push(this.j[r[c]]);c=0;for(e=g.length;c<e;c++)g[c].lb=l,g[c].Na=g}if(0<this.De){a=0;for(d=this.j.length;a<d;a++)if(b=this.j[a],!b.G&&b.U.length){b.Rf=Array(this.De);b.Qd=Array(this.De);b.Gj=Array(this.De);h=[];c=w=k=f=0;for(e=b.U.length;c<e;c++){n=b.U[c];b.Rf[n.kc]=f;f+=n.So;b.Qd[n.kc]=k;k+=n.em;b.Gj[n.kc]=w;w+=n.dn;r=0;for(g=n.A.length;r<g;r++)h.push(na({},
n.A[r]))}b.A=h.concat(b.A);c=0;for(e=b.A.length;c<e;c++)b.A[c].index=c}}a=0;for(d=m[5].length;a<d;a++)b=m[5][a],c=new Ya(this,b),this.Th[c.name]=c,this.Tb.push(c);a=0;for(d=m[6].length;a<d;a++)b=m[6][a],c=new Za(this,b),this.rh[c.name]=c,this.wd.push(c);a=0;for(d=this.wd.length;a<d;a++)this.wd[a].da();a=0;for(d=this.Mg.length;a<d;a++)this.Mg[a].da();this.Mg.length=0;this.an=m[7];this.le=m[8];this.Za=m[9];this.Ya=m[10];this.Ff=1;this.Cm=m[12];this.na=m[13];this.wj=m[14];this.yq=m[15];a=m[16];2===a&&
(a=this.hg?1:0);this.Ro=0!==a;this.Kn=m[19];this.lo=m[21];this.tf=Date.now()};b.prototype.bn=function(m){var a,c;a=0;for(c=this.kd.length;a<c;a++)if(this.kd[a].lm===m)return this.kd[a];return p};b.prototype.nj=function(){var a=0,c=0,d=l,e,g;e=0;for(g=this.kd.length;e<g;e++){var r=this.kd[e].km;if(!r||0>=r)r=5E4;a+=r;this.kd[e].complete||this.kd[e].loaded?c+=r:d=q}this.Ed=0==a?0:c/a;return d};b.prototype.go=function(){if(this.P||this.D){var a=this.P||this.mi;this.Oa&&this.Rk();this.Ed=0;this.mk=-1;
if(this.nj())this.In();else{var c=Date.now()-this.tf,d=1;this.cg&&(d=this.devicePixelRatio);if(a){if(3!==this.bf&&500<=c&&this.mk!=this.Ed){a.clearRect(0,0,this.width,this.height);var c=this.width/(2*d),d=this.height/(2*d),e=0===this.bf&&this.Zd.complete,g=40,r=0,b=80;e&&(b=this.Zd.width,g=b/2,r=this.Zd.height/2,a.drawImage(this.Zd,ja(c-g),ja(d-r)));1>=this.bf?(c=ja(c-g)+0.5,d=ja(d+(r+(e?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(c,d,Math.floor(b*this.Ed),6),a.strokeStyle="black",a.strokeRect(c,
d,b,6),a.strokeStyle="white",a.strokeRect(c-1,d-1,b+2,8)):2===this.bf&&(a.font="12pt Arial",a.fillStyle="#999",a.xq="middle",e=Math.round(100*this.Ed)+"%",g=a.measureText?a.measureText(e):p,a.fillText(e,c-(g?g.width:0)/2,d))}this.mk=this.Ed}setTimeout(function(a){return function(){a.go()}}(this),100)}}};b.prototype.In=function(){this.Oa&&(this.canvas.parentNode.removeChild(this.Oa),this.Oa=this.mi=p);this.tf=Date.now();this.Ze=Na();var a,c,d;if(this.Vi){a=0;for(c=this.j.length;a<c;a++)d=this.j[a],
!d.G&&(!d.Mh&&d.ka.Tc)&&d.qa()}else this.ig=q;a=0;for(c=this.Tb.length;a<c;a++)this.Tb[a].mm();2<=this.wb&&(a=this.Za/this.Ya,c=this.width/this.height,this.Ff=2!==this.wb&&c>a||2===this.wb&&c<a?this.height/this.Ya:this.width/this.Za);this.Kj?this.Th[this.Kj].Mi():this.Tb[0].Mi();this.Vi||(this.$d=1,this.trigger(V.prototype.i.$i,p));this.Pa();this.zb&&AppMobi.webview.execute("onGameReady();")};var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Pa=function(){if(this.O){if(this.On){var a=jQuery(window).width(),d=jQuery(window).height();if(this.ok!==a||this.nk!==d)this.ok=a,this.nk=d,this.setSize(a,d)}a=Na();this.ig&&(d=this.nj(),this.$d=this.Ed,d&&(this.ig=q,this.Ed=1,this.trigger(V.prototype.i.$i,p)));this.Zn();if((this.W||this.mc)&&!this.Oh&&!this.uf)this.W=q,this.D?this.ic():this.td(),this.Hg&&(this.canvas&&this.canvas.toDataURL&&(this.Go=this.canvas.toDataURL(this.Hg[0],
this.Hg[1]),this.trigger(V.prototype.i.Il,p)),this.Hg=p);this.xf++;this.Pd++;this.Tf++;this.tg+=Na()-a;this.Ue||(c?this.vi=c(this.ql,this.canvas):this.Qi=setTimeout(this.ql,this.Ud?1:16))}};b.prototype.Zn=function(){var a,c,d,e,g,r,b,f,n;a=Na();1E3<=a-this.Ze&&(this.Ze+=1E3,this.vh=this.Tf,this.Tf=0,this.ih=this.tg,this.tg=0);this.vk&&(0!==this.lg&&(c=a-this.lg,0===c?(this.To++,10<=this.zq&&(this.vk=q),this.Pc=1/60):(this.Pc=c/1E3,0.5<this.Pc?this.Pc=0:0.1<this.Pc&&(this.Pc=0.1))),this.lg=a);this.ud=
this.Pc*this.Hd;this.Rb.add(this.ud);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.bg;2<=this.wb||a&&0<this.Ge?(c=this.Za/this.Ya,d=this.width/this.height,e=this.wb,a&&0<this.Ge&&(e=this.Ge),this.Ff=2!==e&&d>c||2===e&&d<c?this.height/this.Ya:this.width/this.Za,this.O&&(this.O.cl(this.O.scrollX),this.O.dl(this.O.scrollY))):this.Ff=1;this.Da();this.Qb++;this.qc.xo();this.Qb--;this.Da();this.Qb++;a=0;for(c=this.j.length;a<c;a++)if(b=this.j[a],!(b.G||!b.fa.length&&!b.U.length)){d=
0;for(e=b.c.length;d<e;d++){f=b.c[d];g=0;for(r=f.I.length;g<r;g++)f.I[g].Pa()}}a=0;for(c=this.j.length;a<c;a++)if(b=this.j[a],!(b.G||!b.fa.length&&!b.U.length)){d=0;for(e=b.c.length;d<e;d++){f=b.c[d];g=0;for(r=f.I.length;g<r;g++)n=f.I[g],n.po&&n.po()}}d=this.fi.yf();a=0;for(c=d.length;a<c;a++)d[a].Pa();this.Qb--;this.Jn();for(a=0;this.gh&&10>a++;)this.Dj(this.gh);a=0;for(c=this.wd.length;a<c;a++)this.wd[a].Fh=q;this.O.Of&&this.O.Of.ta();this.uo.length=0;this.qk=q;this.Qb++;a=0;for(c=this.j.length;a<
c;a++)if(b=this.j[a],!(b.G||!b.fa.length&&!b.U.length)){d=0;for(e=b.c.length;d<e;d++){f=b.c[d];g=0;for(r=f.I.length;g<r;g++)n=f.I[g],n.Pi&&n.Pi()}}d=this.gi.yf();a=0;for(c=d.length;a<c;a++)d[a].Pi();this.Qb--};b.prototype.Dj=function(a){var c=this.O;this.O.Io();var d,e,g,r,b,f,n;if(this.D){d=0;for(e=this.j.length;d<e;d++)b=this.j[d],b.G||b.zl&&((!b.global||0===b.c.length)&&-1===a.Pe.indexOf(b))&&b.zl()}c==a&&(this.qc.eb.length=0);a.Mi();d=0;for(e=this.j.length;d<e;d++)if(b=this.j[d],b.global||b.ka.Li){a=
0;for(c=b.c.length;a<c;a++)if(f=b.c[a],f.ji&&f.ji(),f.I){g=0;for(r=f.I.length;g<r;g++)n=f.I[g],n.ji&&n.ji()}}this.qk=this.W=l;this.Da()};b.prototype.rl=function(a){this.fi.add(a)};b.prototype.Lo=function(a){this.gi.add(a)};b.prototype.mn=function(a){return!a||-1===a.Dd?this.ud:this.Pc*a.Dd};b.prototype.td=function(){this.O.td(this.P);this.zb&&this.P.present()};b.prototype.ic=function(){this.O.ic(this.D)};b.prototype.$l=function(a){a&&this.oh.push(a)};b.prototype.Xf=function(a){return this.he[a.toString()]};
b.prototype.md=function(a){var c,d;if(!this.hc.contains(a)){this.hc.add(a);if(a.lb){c=0;for(d=a.siblings.length;c<d;c++)this.md(a.siblings[c])}this.Lh&&this.hc.zf.push(a);this.Qb++;this.trigger(Object.getPrototypeOf(a.type.ka).i.Jl,a);this.Qb--}};b.prototype.Da=function(){var a,c,d,e,g,r,b,f,n,h;this.Lh=l;e=0;for(r=this.gc.length;e<r;e++){a=this.gc[e];c=a.type;c.c.push(a);c.ed=l;g=0;for(b=c.U.length;g<b;g++)c.U[g].c.push(a),c.U[g].ed=l}this.gc.length=0;r=this.hc.yf();for(e=0;e<r.length;e++){a=r[e];
c=a.type;d=c.c;g=0;for(b=this.oh.length;g<b;g++)this.oh[g](a);sa(d,a);a.d&&(qa(a.d.c,a.kb()),a.d.fb=l);g=0;for(b=c.U.length;g<b;g++)sa(c.U[g].c,a),c.U[g].ed=l;if(a.I){g=0;for(b=a.I.length;g<b;g++)d=a.I[g],d.ii&&d.ii(),d.Nd.di.remove(a)}this.fi.remove(a);this.gi.remove(a);g=0;for(b=this.qc.eb.length;g<b;g++)if(n=this.qc.eb[g],n.ab.hasOwnProperty(c.index)&&sa(n.ab[c.index].Ad,a),!c.G){d=0;for(f=c.U.length;d<f;d++)h=c.U[d],n.ab.hasOwnProperty(h.index)&&sa(n.ab[h.index].Ad,a)}a.ii&&a.ii();this.he.hasOwnProperty(a.uid.toString())&&
delete this.he[a.uid.toString()];this.vg--;64>c.Mf.length&&c.Mf.push(a);c.ed=l}this.hc.Re()||(this.W=l);this.hc.clear();this.Lh=q};b.prototype.yj=function(a,c,d,e){if(a.G){var g=ja(Math.random()*a.ug.length);return this.yj(a.ug[g],c,d,e)}return!a.tb?p:this.Oc(a.tb,c,q,d,e,q)};var w=[];b.prototype.Oc=function(a,c,d,e,g,r){var b,f,n,h;if(!a)return p;var k=this.j[a[1]],M=k.ka.Tc;if(this.ig&&M&&!k.Mh||M&&!this.D&&11===a[0][11])return p;var I=c;M||(c=p);var t;k.Mf.length?(t=k.Mf.pop(),t.Ec=l,k.ka.Qa.call(t,
k)):(t=new k.ka.Qa(k),t.Ec=q);t.uid=d&&!r?a[2]:this.ef++;this.he[t.uid.toString()]=t;t.Wk=this.yk++;t.Ne=0;t.Ke=Pb;k.ed=l;n=a[3];if(t.Ec){b=0;for(f=n.length;b<f;b++)t.va[b]=n[b];Ma(t.Z)}else t.va=n.slice(0),t.Z={};if(M){var z=a[0];t.x=ba(e)?z[0]:e;t.y=ba(g)?z[1]:g;t.El=z[2];t.width=z[3];t.height=z[4];t.depth=z[5];t.g=z[6];t.opacity=z[7];t.Ua=z[8];t.Va=z[9];t.La=z[10];b=z[11];!this.D&&k.A.length&&(t.La=b);t.ze=Sa(t.La);this.m&&Ua(t,t.La,this.m);if(t.Ec){b=0;for(f=z[12].length;b<f;b++){n=0;for(h=z[12][b].length;n<
h;n++)t.ba[b][n]=z[12][b][n]}t.N.set(0,0,0,0);t.qd.Ii(t.N);t.Gf.length=0}else{t.ba=z[12].slice(0);b=0;for(f=t.ba.length;b<f;b++)t.ba[b]=z[12][b].slice(0);t.M=[];t.Kc=[];t.Kc.length=k.A.length;t.N=new la(0,0,0,0);t.qd=new ma;t.Gf=[];t.Ba=Rb;t.cq=Sb;t.vc=Tb;t.ec=Ub;t.kb=Vb}b=0;for(f=k.A.length;b<f;b++)t.Kc[b]=l;t.Ic=Wb;t.Ic();t.Cl=!!t.M.length;t.bh=l;t.visible=l;t.Dd=-1;t.d=c;t.Jd=c.c.length;"undefined"===typeof t.fc&&(t.fc=p);this.W=t.If=l}t.toString=Qb;var F;b=w.length=0;for(f=k.U.length;b<f;b++)w.push.apply(w,
k.U[b].fa);w.push.apply(w,k.fa);if(t.Ec){b=0;for(f=w.length;b<f;b++){var J=w[b];F=t.I[b];F.Ec=l;J.Nd.Qa.call(F,J,t);z=a[4][b];n=0;for(h=z.length;n<h;n++)F.Aa[n]=z[n];F.qa();J.Nd.di.add(t)}}else{t.I=[];b=0;for(f=w.length;b<f;b++)J=w[b],F=new J.Nd.Qa(J,t),F.Ec=q,F.Aa=a[4][b].slice(0),F.qa(),t.I.push(F),J.Nd.di.add(t)}z=a[5];if(t.Ec){b=0;for(f=z.length;b<f;b++)t.Aa[b]=z[b]}else t.Aa=z.slice(0);this.gc.push(t);c&&c.c.push(t);this.vg++;if(k.lb){if(t.lb=l,t.Ec?t.siblings.length=0:t.siblings=[],!d&&!r){b=
0;for(f=k.Na.length;b<f;b++)if(k.Na[b]!==k){if(!k.Na[b].tb)return p;t.siblings.push(this.Oc(k.Na[b].tb,I,q,M?t.x:e,M?t.y:g,l))}b=0;for(f=t.siblings.length;b<f;b++){t.siblings[b].siblings.push(t);for(n=0;n<f;n++)b!==n&&t.siblings[b].siblings.push(t.siblings[n])}}}else t.lb=q,t.siblings=p;t.qa();b=0;for(f=t.I.length;b<f;b++)t.I[b].oo&&t.I[b].oo();return t};b.prototype.Bh=function(a){var c,d;c=0;for(d=this.O.K.length;c<d;c++){var e=this.O.K[c];if(e.name.toLowerCase()===a.toLowerCase())return e}return p};
b.prototype.Ie=function(a){a=ja(a);0>a&&(a=0);a>=this.O.K.length&&(a=this.O.K.length-1);return this.O.K[a]};b.prototype.hh=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].R().X=l};b.prototype.mf=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].mf()};b.prototype.si=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].si()};b.prototype.me=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].me()};b.prototype.Jo=function(a,c,d){var e=a.R(),g,b,f,n,h,k;if(e.X){e.X=q;g=e.c.length=0;for(n=a.c.length;g<
n;g++)f=a.c[g],f.ec(),h=f.d.Ha(c,d,l),k=f.d.Ha(c,d,q),f.vc(h,k)&&e.c.push(f)}else{g=b=0;for(n=e.c.length;g<n;g++)f=e.c[g],f.ec(),h=f.d.Ha(c,d,l),k=f.d.Ha(c,d,q),f.vc(h,k)&&(e.c[b]=e.c[g],b++);e.c.length=b}a.ve();return e.Eh()};new ma;new la(0,0,0,0);b.prototype.wl=function(a,c){if(!c)return q;var d,e,g,b,f;d=0;for(e=a.fa.length;d<e;d++)if(a.fa[d].Nd instanceof c)return l;if(!a.G){d=0;for(e=a.U.length;d<e;d++){f=a.U[d];g=0;for(b=f.fa.length;g<b;g++)if(f.fa[g].Nd instanceof c)return l}}return q};b.prototype.xl=
function(a){return this.wl(a,pb.yp)};b.prototype.Ui=function(a){return this.wl(a,pb.zp)};var e=[],g=-1;b.prototype.trigger=function(a,c,d){if(!this.O)return q;var b=this.O.Of;if(!b)return q;g++;g===e.length?e.push(new Oa):e[g].clear();a=this.tl(a,c,b,d);g--;return a};b.prototype.tl=function(a,c,d,b){var f=e[g];if(f.contains(d))return q;f.add(d);var f=d.Yj.yf(),r=q,n,h,k;n=0;for(h=f.length;n<h;n++)f[n].Nn()&&(k=this.tl(a,c,f[n].Oe,b),r=r||k);if(c){k=this.Si(a,c,c.type.name,d,b);r=r||k;n=0;for(h=c.type.U.length;n<
h;n++)k=this.Si(a,c,c.type.U[n].name,d,b),r=r||k}else k=this.Si(a,c,"system",d,b),r=r||k;return r};b.prototype.Si=function(a,c,d,e,g){var b,f=q,n=q,n="undefined"!==typeof g,h=(n?e.Ij:e.ul)[d];if(!h)return f;var k=p;e=0;for(b=h.length;e<b;e++)if(h[e].method==a){k=h[e].Qf;break}if(!k)return f;a=n?k[g]:k;if(!a)return p;e=0;for(b=a.length;e<b;e++)g=a[e][0],n=a[e][1],n=this.Zm(c,d,g,n),f=f||n;return f};b.prototype.Zm=function(a,c,d,e){var b,r,f=q;this.Ti++;var n=this.Sa().sb;n&&this.mf(n.ad);var h=1<this.Ti;
this.mf(d.ad);h&&this.so();var k=this.ti(d);k.sb=d;a&&(b=this.types[c].R(),b.X=q,b.c.length=1,b.c[0]=a,this.types[c].ve());a=l;if(d.parent){c=k.ml;for(b=d.parent;b;)c.push(b),b=b.parent;c.reverse();b=0;for(r=c.length;b<r;b++)if(!c[b].zo()){a=q;break}}a&&(this.Pd++,d.nc?d.yo(e):d.ta(),f=f||k.Yd);this.Qk();h&&this.no();this.me(d.ad);n&&this.me(n.ad);0===this.Qb&&(0===g&&!this.Nh&&(!this.hc.Re()||this.gc.length))&&this.Da();this.Ti--;return f};b.prototype.ln=function(){var a=this.Sa();return a.sb.ga[a.Ma]};
b.prototype.kn=function(){var a=this.Sa();return a.sb.ob[a.gb]};b.prototype.so=function(){this.sg++;this.sg>=this.Zh.length&&this.Zh.push([])};b.prototype.no=function(){this.sg--};b.prototype.Nj=function(){return this.Zh[this.sg]};b.prototype.ti=function(a){this.Pf++;this.Pf>=this.qh.length&&this.qh.push(new $a);var c=this.Sa();c.reset(a);return c};b.prototype.Qk=function(){this.Pf--};b.prototype.Sa=function(){return this.qh[this.Pf]};b.prototype.Oj=function(a,c){for(var d,e,g,b,f,n;c;){d=0;for(e=
c.Eb.length;d<e;d++)if(n=c.Eb[d],n instanceof ab&&a.toLowerCase()===n.name.toLowerCase())return n;c=c.parent}d=0;for(e=this.wd.length;d<e;d++){f=this.wd[d];g=0;for(b=f.Qc.length;g<b;g++)if(n=f.Qc[g],n instanceof ab&&a.toLowerCase()===n.name.toLowerCase())return n}return p};b.prototype.Pj=function(a){var c,d;c=0;for(d=this.Tb.length;c<d;c++)if(this.Tb[c].H===a)return this.Tb[c];return p};b.prototype.Yf=function(a){var c,d;c=0;for(d=this.j.length;c<d;c++)if(this.j[c].H===a)return this.j[c];return p};
b.prototype.on=function(a){var c,d;c=0;for(d=this.Md.length;c<d;c++)if(this.Md[c].H===a)return this.Md[c];return p};b.prototype.Jn=function(){var a=this,c=this.Fi,e=this.Bc,g=this.pg,b=q;this.kl&&(b=l,c="__c2_continuouspreview",this.kl=q);if(c.length){this.Da();e=this.Do();if(window.indexedDB&&!this.mc)f(c,e,function(){Q("Saved state to IndexedDB storage ("+e.length+" bytes)");a.Bc=e;a.trigger(V.prototype.i.Vg,p);a.Bc="";b&&d()},function(g){try{localStorage.setItem("__c2save_"+c,e),Q("Saved state to WebStorage ("+
e.length+" bytes)"),a.Bc=e,a.trigger(V.prototype.i.Vg,p),a.Bc="",b&&d()}catch(r){Q("Failed to save game state: "+g+"; "+r)}});else try{localStorage.setItem("__c2save_"+c,e),Q("Saved state to WebStorage ("+e.length+" bytes)"),a.Bc=e,this.trigger(V.prototype.i.Vg,p),a.Bc="",b&&d()}catch(r){Q("Error saving to WebStorage: "+r)}this.Ja=this.pg=this.Fi=""}g.length&&(window.indexedDB&&!this.mc?h(g,function(c){c?(a.Ja=c,Q("Loaded state from IndexedDB storage ("+a.Ja.length+" bytes)")):(a.Ja=localStorage.getItem("__c2save_"+
g)||"",Q("Loaded state from WebStorage ("+a.Ja.length+" bytes)"));a.uf=q;a.Ja.length||a.trigger(V.prototype.i.Ug,p)},function(){a.Ja=localStorage.getItem("__c2save_"+g)||"";Q("Loaded state from WebStorage ("+a.Ja.length+" bytes)");a.uf=q;a.Ja.length||a.trigger(V.prototype.i.Ug,p)}):(this.Ja=localStorage.getItem("__c2save_"+g)||"",Q("Loaded state from WebStorage ("+this.Ja.length+" bytes)"),this.uf=q,a.Ja.length||a.trigger(V.prototype.i.Ug,p)),this.Fi=this.pg="");this.Ja.length&&(this.Da(),this.Xn(this.Ja),
this.Bc=this.Ja,this.trigger(V.prototype.i.Ml,p),this.Ja=this.Bc="")};b.prototype.Do=function(){var a,c,d,e,g,b,f,h={c2save:l,version:1,rt:{time:this.Rb.nb,timescale:this.Hd,tickcount:this.xf,execcount:this.Pd,next_uid:this.ef,running_layout:this.O.H,start_time_offset:Date.now()-this.tf},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(c=this.j.length;a<c;a++)if(g=this.j[a],!g.G&&!this.xl(g)){b={instances:[]};La(g.Z)&&(b.ex=n(g.Z));d=0;for(e=g.c.length;d<e;d++)b.instances.push(this.bl(g.c[d]));
h.types[g.H.toString()]=b}a=0;for(c=this.Tb.length;a<c;a++)d=this.Tb[a],h.layouts[d.H.toString()]=d.Xb();e=h.events.groups;a=0;for(c=this.Md.length;a<c;a++)d=this.Md[a],e[d.H.toString()]=!!this.Df[d.Le];c=h.events.cnds;for(f in this.Od)this.Od.hasOwnProperty(f)&&(a=this.Od[f],La(a.Z)&&(c[f]={ex:n(a.Z)}));c=h.events.acts;for(f in this.Ld)this.Ld.hasOwnProperty(f)&&(a=this.Ld[f],La(a.Z)&&(c[f]={ex:a.Z}));c=h.events.vars;for(f in this.re)if(this.re.hasOwnProperty(f)&&(a=this.re[f],!a.dg&&(!a.parent||
a.We)))c[f]=a.data;h.system=this.qc.Xb();return JSON.stringify(h)};b.prototype.Xk=function(){var a,c,d,e,g,b;this.he={};a=0;for(c=this.j.length;a<c;a++)if(d=this.j[a],!d.G){e=0;for(g=d.c.length;e<g;e++)b=d.c[e],this.he[b.uid.toString()]=b}};b.prototype.Xn=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var c=a.rt;this.Rb.reset();this.Rb.nb=c.time;this.Hd=c.timescale;this.xf=c.tickcount;this.Pd=c.execcount;this.tf=Date.now()-c.start_time_offset;var d=c.running_layout;if(d!==this.O.H)if(d=
this.Pj(d))this.Dj(d);else return;this.dk=l;var e,g,b,f,n,h,k;h=a.types;for(g in h)if(h.hasOwnProperty(g)&&(f=this.Yf(parseInt(g,10)))&&!f.G&&!this.xl(f)){h[g].ex?f.Z=h[g].ex:Ma(f.Z);n=f.c;b=h[g].instances;d=0;for(e=ga(n.length,b.length);d<e;d++)this.Uh(n[d],b[d]);d=b.length;for(e=n.length;d<e;d++)this.md(n[d]);d=n.length;for(e=b.length;d<e;d++){n=p;if(f.ka.Tc&&(n=this.O.Vf(b[d].w.l),!n))continue;n=this.Oc(f.tb,n,q,0,0,l);this.Uh(n,b[d])}f.ed=l}this.Da();this.Xk();e=a.layouts;for(g in e)e.hasOwnProperty(g)&&
(d=this.Pj(parseInt(g,10)))&&d.Cc(e[g]);e=a.events.groups;for(g in e)e.hasOwnProperty(g)&&(d=this.on(parseInt(g,10)))&&(this.Df[d.Le]=e[g]);d=a.events.cnds;for(g in d)d.hasOwnProperty(g)&&this.Od.hasOwnProperty(g)&&(this.Od[g].Z=d[g].ex);d=a.events.acts;for(g in d)d.hasOwnProperty(g)&&this.Ld.hasOwnProperty(g)&&(this.Ld[g].Z=d[g].ex);d=a.events.vars;for(g in d)d.hasOwnProperty(g)&&this.re.hasOwnProperty(g)&&(this.re[g].data=d[g]);this.ef=c.next_uid;this.dk=q;this.qc.Cc(a.system);d=0;for(e=this.j.length;d<
e;d++)if(f=this.j[d],!f.G){g=0;for(a=f.c.length;g<a;g++){n=f.c[g];if(f.lb){h=n.Ke();c=n.siblings.length=0;for(b=f.Na.length;c<b;c++)k=f.Na[c],f!==k&&n.siblings.push(k.c[h])}n.Ef&&n.Ef();if(n.I){c=0;for(b=n.I.length;c<b;c++)h=n.I[c],h.Ef&&h.Ef()}}}this.W=l}};b.prototype.bl=function(a){var c,d,e,g,b;g=a.type;e=g.ka;var f={uid:a.uid};La(a.Z)&&(f.ex=n(a.Z));if(a.va&&a.va.length){f.ivs={};c=0;for(d=a.va.length;c<d;c++)f.ivs[a.type.Kh[c].toString()]=a.va[c]}if(e.Tc){e={x:a.x,y:a.y,w:a.width,h:a.height,
l:a.d.H,zi:a.kb()};0!==a.g&&(e.a=a.g);1!==a.opacity&&(e.o=a.opacity);0.5!==a.Ua&&(e.hX=a.Ua);0.5!==a.Va&&(e.hY=a.Va);0!==a.La&&(e.bm=a.La);a.visible||(e.v=a.visible);a.If||(e.ce=a.If);-1!==a.Dd&&(e.mts=a.Dd);if(g.A.length){e.fx=[];c=0;for(d=g.A.length;c<d;c++)b=g.A[c],e.fx.push({name:b.name,active:a.Kc[b.index],params:a.ba[b.index]})}f.w=e}if(a.I&&a.I.length){f.behs={};c=0;for(d=a.I.length;c<d;c++)g=a.I[c],g.Xb&&(f.behs[g.type.H.toString()]=g.Xb())}a.Xb&&(f.data=a.Xb());return f};b.prototype.qn=function(a,
c){var d,e;d=0;for(e=a.Kh.length;d<e;d++)if(a.Kh[d]===c)return d;return-1};b.prototype.jn=function(a,c){var d,e;d=0;for(e=a.I.length;d<e;d++)if(a.I[d].type.H===c)return d;return-1};b.prototype.Uh=function(a,c){var d,e,g,b,f,n;n=a.type;g=n.ka;a.uid=c.uid;c.ex?a.Z=c.ex:Ma(a.Z);if(e=c.ivs)for(d in e)e.hasOwnProperty(d)&&(b=this.qn(n,parseInt(d,10)),0>b||b>=a.va.length||(a.va[b]=e[d]));if(g.Tc){b=c.w;a.d.H!==b.l&&(e=a.d,a.d=this.O.Vf(b.l),a.d?(a.d.c.push(a),a.d.fb=l,sa(e.c,a),e.fb=l):(a.d=e,this.md(a)));
a.x=b.x;a.y=b.y;a.width=b.w;a.height=b.h;a.Jd=b.zi;a.g=b.hasOwnProperty("a")?b.a:0;a.opacity=b.hasOwnProperty("o")?b.o:1;a.Ua=b.hasOwnProperty("hX")?b.hX:0.5;a.Va=b.hasOwnProperty("hY")?b.hY:0.5;a.visible=b.hasOwnProperty("v")?b.v:l;a.If=b.hasOwnProperty("ce")?b.ce:l;a.Dd=b.hasOwnProperty("mts")?b.mts:-1;a.La=b.hasOwnProperty("bm")?b.bm:0;a.ze=Sa(a.La);this.m&&Ua(a,a.La,this.m);a.Ba();if(b.hasOwnProperty("fx")){e=0;for(g=b.fx.length;e<g;e++)f=n.Ah(b.fx[e].name),0>f||(a.Kc[f]=b.fx[e].active,a.ba[f]=
b.fx[e].params)}a.Ic()}if(n=c.behs)for(d in n)n.hasOwnProperty(d)&&(b=this.jn(a,parseInt(d,10)),0>b||a.I[b].Cc(n[d]));c.data&&a.Cc(c.data)};bb=function(a){return new b(document.getElementById(a))};gb=function(a,c){return new b({dc:l,width:a,height:c})};window.cr_createRuntime=bb;window.cr_createDCRuntime=gb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=l;var a=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(a);a=new b(a);window.c2runtime=
a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:p};window.cr_sizeCanvas=function(b,k){if(!(0===b||0===k)){var f=window.cr_getC2Runtime();f&&f.setSize(b,k)}};
window.cr_setSuspended=function(b){var k=window.cr_getC2Runtime();k&&k.setSuspended(b)};
(function(){function b(d,b){this.b=d;this.Of=p;this.scrollX=this.b.Za/2;this.scrollY=this.b.Ya/2;this.scale=1;this.g=0;this.Fe=l;this.name=b[0];this.width=b[1];this.height=b[2];this.yl=b[3];this.il=b[4];this.H=b[5];var a=b[6],c,f;this.K=[];this.Pe=[];c=0;for(f=a.length;c<f;c++){var e=new hb(this,a[c]);e.Ak=c;this.K.push(e)}a=b[7];this.zd=[];c=0;for(f=a.length;c<f;c++){var e=a[c],g=this.b.j[e[1]];g.tb||(g.tb=e);this.zd.push(e);-1===this.Pe.indexOf(g)&&this.Pe.push(g)}this.A=[];this.M=[];this.ba=[];
c=0;for(f=b[8].length;c<f;c++)this.A.push({id:b[8][c][0],name:b[8][c][1],Ca:-1,sc:l,index:c}),this.ba.push(b[8][c][2].slice(0));this.Ic();this.wi=new la(0,0,1,1);this.xi=new la(0,0,1,1);this.Xc={}}function k(d,b){this.S=d;this.b=d.b;this.c=[];this.scale=1;this.g=0;this.sd=q;this.Hc=new la(0,0,0,0);this.sl=new ma;this.Fb=this.Ib=this.Hb=this.Gb=0;this.fb=q;this.name=b[0];this.index=b[1];this.H=b[2];this.visible=b[3];this.Lc=b[4];this.Id=b[5];this.Vc=b[6];this.Wc=b[7];this.opacity=b[8];this.uh=b[9];
this.Jc=b[10];this.La=b[11];this.Bm=b[12];this.ze="source-over";this.Ea=this.Ga=0;this.Yc=q;var a=b[13],c,f;this.Sd=[];c=0;for(f=a.length;c<f;c++){var e=a[c],g=this.b.j[e[1]];g.tb||(g.tb=e);this.Sd.push(e);-1===this.S.Pe.indexOf(g)&&this.S.Pe.push(g)}this.A=[];this.M=[];this.ba=[];c=0;for(f=b[14].length;c<f;c++)this.A.push({id:b[14][c][0],name:b[14][c][1],Ca:-1,sc:l,index:c}),this.ba.push(b[14][c][2].slice(0));this.Ic();this.wi=new la(0,0,1,1);this.xi=new la(0,0,1,1)}function f(d,b){return d.Jd-b.Jd}
b.prototype.Co=function(d){var b=d.type.H.toString();this.Xc.hasOwnProperty(b)||(this.Xc[b]=[]);this.Xc[b].push(this.b.bl(d))};b.prototype.Vj=function(){var d=this.K[0];return!d.Id&&1===d.opacity&&!d.uh&&d.visible};b.prototype.Ic=function(){this.M.length=0;var d,b,a;d=0;for(b=this.A.length;d<b;d++)a=this.A[d],a.sc&&this.M.push(a)};b.prototype.zh=function(d){var b,a,c;b=0;for(a=this.A.length;b<a;b++)if(c=this.A[b],c.name===d)return c;return p};var h=[];b.prototype.Mi=function(){this.il&&(this.Of=this.b.rh[this.il]);
this.b.O=this;this.scrollX=this.b.Za/2;this.scrollY=this.b.Ya/2;var d,b,a,c,k,e,g;d=0;for(a=this.b.j.length;d<a;d++)if(b=this.b.j[d],!b.G){k=b.c;b=0;for(c=k.length;b<c;b++)if(e=k[b],e.d){var m=e.d.Ak;m>=this.K.length&&(m=this.K.length-1);e.d=this.K[m];e.d.c.push(e);e.d.fb=l}}h.length=0;this.fm();d=0;for(a=this.K.length;d<a;d++)e=this.K[d],e.nm(),e.sd=l,b=e.Ha(0,0,l),c=e.Ha(0,0,q),e.sd=q,this.b.le&&(b=b+0.5|0,c=c+0.5|0),e.Bi(b,c,p);k=q;if(!this.Fe){for(g in this.Xc)if(this.Xc.hasOwnProperty(g)&&(b=
this.b.Yf(parseInt(g,10)))&&!b.G&&this.b.Ui(b)){c=this.Xc[g];d=0;for(a=c.length;d<a;d++){e=p;if(b.ka.Tc&&(e=this.Vf(c[d].w.l),!e))continue;e=this.b.Oc(b.tb,e,q,0,0,l);this.b.Uh(e,c[d]);k=l;h.push(e)}c.length=0}d=0;for(a=this.K.length;d<a;d++)this.K[d].c.sort(f),this.K[d].fb=l}k&&(this.b.Da(),this.b.Xk());for(d=0;d<h.length;d++)if(e=h[d],e.type.lb){a=e.Ke();b=0;for(c=e.type.Na.length;b<c;b++)g=e.type.Na[b],e.type!==g&&(g.c.length>a?e.siblings.push(g.c[a]):g.tb&&(k=this.b.Oc(g.tb,e.d,l,e.x,e.y,l),this.b.Da(),
g.Ng(),e.siblings.push(k),h.push(k)))}d=0;for(a=this.zd.length;d<a;d++)this.b.Oc(this.zd[d],p,l);this.b.gh=p;this.b.Da();if(this.b.P&&!this.b.Wa){d=0;for(a=this.b.j.length;d<a;d++)g=this.b.j[d],!g.G&&(g.c.length&&g.Sk)&&g.Sk(this.b.P)}d=0;for(a=h.length;d<a;d++)e=h[d],this.b.trigger(Object.getPrototypeOf(e.type.ka).i.Sg,e);h.length=0;this.b.trigger(V.prototype.i.Ll,p);this.Fe=q};b.prototype.mm=function(){var d,b,a,c,f;b=d=0;for(a=this.zd.length;d<a;d++)c=this.zd[d],f=this.b.j[c[1]],f.global?this.b.Oc(c,
p,l):(this.zd[b]=c,b++);this.zd.length=b};b.prototype.Io=function(){this.b.trigger(V.prototype.i.Kl,p);this.b.qc.eb.length=0;var d,b,a,c,f,e;d=0;for(b=this.K.length;d<b;d++){f=this.K[d].c;a=0;for(c=f.length;a<c;a++)e=f[a],e.type.global||(this.b.Ui(e.type)&&this.Co(e),this.b.md(e));this.b.Da();f.length=0;this.K[d].fb=l}d=0;for(b=this.b.j.length;d<b;d++)if(f=this.b.j[d],!f.global&&!f.ka.Tc&&!f.ka.Li&&!f.G){a=0;for(c=f.c.length;a<c;a++)this.b.md(f.c[a]);this.b.Da()}};b.prototype.td=function(d){d.globalAlpha=
1;d.globalCompositeOperation="source-over";this.b.wj&&!this.Vj()&&d.clearRect(0,0,this.b.width,this.b.height);var b,a,c;b=0;for(a=this.K.length;b<a;b++)c=this.K[b],c.visible&&(0<c.opacity&&11!==c.La)&&c.td(d)};b.prototype.ic=function(d){var b=0<this.M.length||this.b.qe;if(b){this.b.Sb||(this.b.Sb=d.Nc(this.b.width,this.b.height,this.b.na));if(this.b.Sb.xe!==this.b.width||this.b.Sb.we!==this.b.height)d.deleteTexture(this.b.Sb),this.b.Sb=d.Nc(this.b.width,this.b.height,this.b.na);d.Gc(this.b.Sb)}this.b.wj&&
!this.Vj()&&d.clear(0,0,0,0);var a,c;a=0;for(c=this.K.length;a<c;a++)this.K[a].visible&&0<this.K[a].opacity&&this.K[a].ic(d);b&&(1>=this.M.length?(1===this.M.length?(b=this.M[0].index,d.pc(this.M[0].Ca),d.ne(p,1/this.b.width,1/this.b.height,0,0,1,1,this.scale,this.ba[b]),d.Bg(this.M[0].Ca)&&(this.b.W=l)):d.pc(0),d.Gc(p),d.qf(1),d.Yb(this.b.Sb),d.el(),d.Zc(),d.jd(),b=this.b.width/2,a=this.b.height/2,d.Cg(-b,a,b,a,b,-a,-b,-a),d.Yb(p)):this.yi(d,p,p,p));d.qo()};b.prototype.Je=function(){return 0<this.M.length||
this.b.qe?this.b.Sb:p};b.prototype.Qj=function(){var d=this.K[0].xb(),b,a,c;b=1;for(a=this.K.length;b<a;b++)c=this.K[b],0===c.Vc&&0===c.Wc||c.xb()<d&&(d=c.xb());return d};b.prototype.cl=function(d){if(!this.yl){var b=this.b.width*(1/this.Qj())/2;d>this.width-b&&(d=this.width-b);d<b&&(d=b)}this.scrollX!==d&&(this.scrollX=d,this.b.W=l)};b.prototype.dl=function(d){if(!this.yl){var b=this.b.height*(1/this.Qj())/2;d>this.height-b&&(d=this.height-b);d<b&&(d=b)}this.scrollY!==d&&(this.scrollY=d,this.b.W=
l)};b.prototype.fm=function(){this.cl(this.scrollX);this.dl(this.scrollY)};b.prototype.yi=function(d,b,a,c){var f=a?a.M:b?b.M:this.M,e=a?a.d.xb():b?b.xb():1,g=this.b.wh,m,h,x,u,k=0,r=1,D,C=this.b.width,L=this.b.height,E=C/2,W=L/2,M=b?b.wi:this.wi,I=b?b.xi:this.xi,t=0,z=0,F=0,J=0,G=C,B=C,H=L,Y=L,K=x=0,A=a?a.d.ib():0;if(a){m=0;for(h=f.length;m<h;m++)x+=d.tn(f[m].Ca),K+=d.un(f[m].Ca);u=a.N;t=b.Ab(u.left,u.top,l);F=b.Ab(u.left,u.top,q);G=b.Ab(u.right,u.bottom,l);H=b.Ab(u.right,u.bottom,q);0!==A&&(m=b.Ab(u.right,
u.top,l),h=b.Ab(u.right,u.top,q),z=b.Ab(u.left,u.bottom,l),J=b.Ab(u.left,u.bottom,q),u=Math.min(t,G,m,z),G=Math.max(t,G,m,z),t=u,u=Math.min(F,H,h,J),H=Math.max(F,H,h,J),F=u);t-=x;F-=K;G+=x;H+=K;I.left=t/C;I.top=1-F/L;I.right=G/C;I.bottom=1-H/L;z=t=Math.floor(t);J=F=Math.floor(F);B=G=Math.ceil(G);Y=H=Math.ceil(H);z-=x;J-=K;B+=x;Y+=K;0>t&&(t=0);0>F&&(F=0);G>C&&(G=C);H>L&&(H=L);0>z&&(z=0);0>J&&(J=0);B>C&&(B=C);Y>L&&(Y=L);M.left=t/C;M.top=1-F/L;M.right=G/C;M.bottom=1-H/L}else M.left=I.left=0,M.top=I.top=
0,M.right=I.right=1,M.bottom=I.bottom=1;K=a&&((a.g||A)&&d.lf(f[0].Ca)||0!==x||0!==K||1!==a.opacity||a.type.ka.xk)||b&&!a&&1!==b.opacity;d.el();if(K){g[k]||(g[k]=d.Nc(C,L,this.b.na));if(g[k].xe!==C||g[k].we!==L)d.deleteTexture(g[k]),g[k]=d.Nc(C,L,this.b.na);d.pc(0);d.Gc(g[k]);D=Y-J;d.clearRect(z,L-J-D,B-z,D);a?a.ic(d):(d.Yb(this.b.mb),d.qf(b.opacity),d.Zc(),d.translate(-E,-W),d.jd(),d.Fd(t,H,G,H,G,F,t,F,M));I.left=I.top=0;I.right=I.bottom=1;a&&(u=M.top,M.top=M.bottom,M.bottom=u);k=1;r=0}d.qf(1);x=
f.length-1;var A=d.qi(f[x].Ca),ha=0;m=0;for(h=f.length;m<h;m++){g[k]||(g[k]=d.Nc(C,L,this.b.na));if(g[k].xe!==C||g[k].we!==L)d.deleteTexture(g[k]),g[k]=d.Nc(C,L,this.b.na);d.pc(f[m].Ca);ha=f[m].index;d.Bg(f[m].Ca)&&(this.b.W=l);0==m&&!K?(d.Gc(g[k]),D=Y-J,u=L-J-D,d.clearRect(z,u,B-z,D),a?(d.ne(c,1/a.width,1/a.height,I.left,I.top,I.right,I.bottom,e,a.ba[ha]),a.ic(d)):(d.ne(c,1/C,1/L,0,0,1,1,e,b?b.ba[ha]:this.ba[ha]),d.Yb(b?this.b.mb:this.b.Sb),d.Zc(),d.translate(-E,-W),d.jd(),d.Fd(t,H,G,H,G,F,t,F,M)),
I.left=I.top=0,I.right=I.bottom=1,a&&!A&&(u=H,H=F,F=u)):(d.ne(c,1/C,1/L,I.left,I.top,I.right,I.bottom,e,a?a.ba[ha]:b?b.ba[ha]:this.ba[ha]),m===x&&!A?(a?d.$c(a.Ga,a.Ea):b&&d.$c(b.Ga,b.Ea),d.Gc(c)):(d.Gc(g[k]),D=Y-J,u=L-J-D,d.clearRect(z,u,B-z,D)),d.Yb(g[r]),d.Zc(),d.translate(-E,-W),d.jd(),d.Fd(t,H,G,H,G,F,t,F,M),m===x&&!A&&d.Yb(p));k=0===k?1:0;r=0===k?1:0}A&&(d.pc(0),a?d.$c(a.Ga,a.Ea):b&&d.$c(b.Ga,b.Ea),d.Gc(c),d.Yb(g[r]),d.Zc(),d.translate(-E,-W),d.jd(),a&&1===f.length&&!K?d.Fd(t,F,G,F,G,H,t,H,M):
d.Fd(t,H,G,H,G,F,t,F,M),d.Yb(p))};b.prototype.Vf=function(d){var b,a;b=0;for(a=this.K.length;b<a;b++)if(this.K[b].H===d)return this.K[b];return p};b.prototype.Xb=function(){var d,b,a,c={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.g,w:this.width,h:this.height,fv:this.Fe,persist:this.Xc,fx:[],layers:{}};d=0;for(b=this.A.length;d<b;d++)a=this.A[d],c.fx.push({name:a.name,active:a.sc,params:this.ba[a.index]});d=0;for(b=this.K.length;d<b;d++)a=this.K[d],c.layers[a.H.toString()]=a.Xb();return c};
b.prototype.Cc=function(d){var b,a,c,f;this.scrollX=d.sx;this.scrollY=d.sy;this.scale=d.s;this.g=d.a;this.width=d.w;this.height=d.h;this.Xc=d.persist;"undefined"!==typeof d.fv&&(this.Fe=d.fv);var e=d.fx;b=0;for(a=e.length;b<a;b++)if(c=this.zh(e[b].name))c.sc=e[b].active,this.ba[c.index]=e[b].params;this.Ic();b=d.layers;for(f in b)b.hasOwnProperty(f)&&(d=this.Vf(parseInt(f,10)))&&d.Cc(b[f])};Ya=b;k.prototype.Ic=function(){this.M.length=0;var d,b,a;d=0;for(b=this.A.length;d<b;d++)a=this.A[d],a.sc&&
this.M.push(a)};k.prototype.zh=function(d){var b,a,c;b=0;for(a=this.A.length;b<a;b++)if(c=this.A[b],c.name===d)return c;return p};k.prototype.nm=function(){var d,b,a,c,f,e;b=d=0;for(a=this.Sd.length;d<a;d++){c=this.Sd[d];f=this.b.j[c[1]];e=this.b.Ui(f);f=l;if(!e||this.S.Fe)c=this.b.Oc(c,this,l),h.push(c),c.type.global&&(f=q);f&&(this.Sd[b]=this.Sd[d],b++)}this.Sd.length=b;this.b.Da();!this.b.D&&this.A.length&&(this.La=this.Bm);this.ze=Sa(this.La);this.b.m&&Ua(this,this.La,this.b.m)};k.prototype.Oo=
function(){if(this.fb){var d,b;d=0;for(b=this.c.length;d<b;d++)this.c[d].Jd=d;this.fb=q}};k.prototype.xb=function(){return this.rn()*this.b.Ff};k.prototype.rn=function(){return(this.scale*this.S.scale-1)*this.Jc+1};k.prototype.ib=function(){return this.sd?0:va(this.S.g+this.g)};k.prototype.td=function(d){this.Yc=this.uh||1!==this.opacity||0!==this.La;var b=this.b.canvas,a=d;d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Yc&&(this.b.ng||(this.b.ng=document.createElement("canvas"),b=
this.b.ng,b.width=this.b.width,b.height=this.b.height,this.b.pk=b.getContext("2d")),b=this.b.ng,a=this.b.pk,b.width!==this.b.width&&(b.width=this.b.width),b.height!==this.b.height&&(b.height=this.b.height),this.Id&&a.clearRect(0,0,this.b.width,this.b.height));this.Id||(a.fillStyle="rgb("+this.Lc[0]+","+this.Lc[1]+","+this.Lc[2]+")",a.fillRect(0,0,this.b.width,this.b.height));a.save();this.sd=l;var c=this.Ha(0,0,l),f=this.Ha(0,0,q);this.sd=q;this.b.le&&(c=c+0.5|0,f=f+0.5|0);this.Bi(c,f,a);var e=this.xb();
a.scale(e,e);a.translate(-c,-f);for(var g,c=0,f=this.c.length;c<f;c++)if(e=this.c[c],e.visible&&!(0===e.width||0===e.height))e.ec(),g=e.N,g.right<this.Gb||(g.bottom<this.Ib||g.left>this.Hb||g.top>this.Fb)||(a.globalCompositeOperation=e.ze,e.td(a));a.restore();this.Yc&&(d.globalCompositeOperation=this.ze,d.globalAlpha=this.opacity,d.drawImage(b,0,0))};k.prototype.Bi=function(d,b,a){var c=this.xb();this.Gb=d;this.Ib=b;this.Hb=d+this.b.width*(1/c);this.Fb=b+this.b.height*(1/c);d=this.ib();0!==d&&(a&&
(a.translate(this.b.width/2,this.b.height/2),a.rotate(-d),a.translate(this.b.width/-2,this.b.height/-2)),this.Hc.set(this.Gb,this.Ib,this.Hb,this.Fb),this.Hc.offset((this.Gb+this.Hb)/-2,(this.Ib+this.Fb)/-2),this.sl.hl(this.Hc,d),this.sl.pj(this.Hc),this.Hc.offset((this.Gb+this.Hb)/2,(this.Ib+this.Fb)/2),this.Gb=this.Hc.left,this.Ib=this.Hc.top,this.Hb=this.Hc.right,this.Fb=this.Hc.bottom)};k.prototype.ic=function(d){var b=this.b.width,a=this.b.height,c=0,f=0;if(this.Yc=this.uh||1!==this.opacity||
0<this.M.length||0!==this.La){this.b.mb||(this.b.mb=d.Nc(this.b.width,this.b.height,this.b.na));if(this.b.mb.xe!==this.b.width||this.b.mb.we!==this.b.height)d.deleteTexture(this.b.mb),this.b.mb=d.Nc(this.b.width,this.b.height,this.b.na);d.Gc(this.b.mb);this.Id&&d.clear(0,0,0,0)}this.Id||d.clear(this.Lc[0]/255,this.Lc[1]/255,this.Lc[2]/255,1);this.sd=l;var f=this.Ha(0,0,l),e=this.Ha(0,0,q);this.sd=q;this.b.le&&(f=f+0.5|0,e=e+0.5|0);this.Bi(f,e,p);e=this.xb();d.Zc();d.scale(e,e);d.Zk(-this.ib());d.translate((this.Gb+
this.Hb)/-2,(this.Ib+this.Fb)/-2);d.jd();var g,m,h;g=0;for(m=this.c.length;g<m;g++)if(h=this.c[g],h.visible&&!(0===h.width||0===h.height))if(h.ec(),c=h.N,!(c.right<this.Gb||c.bottom<this.Ib||c.left>this.Hb||c.top>this.Fb))if(h.Cl)if(c=h.M[0].Ca,f=h.M[0].index,1===h.M.length&&!d.qi(c)&&!d.ro(c)&&(!h.g&&!h.d.ib()||!d.lf(c))&&1===h.opacity&&!h.type.ka.xk){d.pc(c);d.$c(h.Ga,h.Ea);d.Bg(c)&&(this.b.W=l);var x=0,k=0,v=0,r=0;d.lf(c)&&(c=h.N,x=this.Ab(c.left,c.top,l),k=this.Ab(c.left,c.top,q),v=this.Ab(c.right,
c.bottom,l),c=this.Ab(c.right,c.bottom,q),x/=b,k=1-k/a,v/=b,r=1-c/a);d.ne(this.Yc?this.b.mb:this.S.Je(),1/h.width,1/h.height,x,k,v,r,this.xb(),h.ba[f]);h.ic(d)}else this.S.yi(d,this,h,this.Yc?this.b.mb:this.S.Je()),d.Zc(),d.scale(e,e),d.Zk(-this.ib()),d.translate((this.Gb+this.Hb)/-2,(this.Ib+this.Fb)/-2),d.jd();else d.pc(0),d.$c(h.Ga,h.Ea),h.ic(d);this.Yc&&(c=this.M.length?this.M[0].Ca:0,f=this.M.length?this.M[0].index:0,0===this.M.length||1===this.M.length&&!d.qi(c)&&1===this.opacity?(1===this.M.length?
(d.pc(c),d.ne(this.S.Je(),1/this.b.width,1/this.b.height,0,0,1,1,this.xb(),this.ba[f]),d.Bg(c)&&(this.b.W=l)):d.pc(0),d.Gc(this.S.Je()),d.qf(this.opacity),d.Yb(this.b.mb),d.$c(this.Ga,this.Ea),d.Zc(),d.jd(),b=this.b.width/2,a=this.b.height/2,d.Cg(-b,a,b,a,b,-a,-b,-a),d.Yb(p)):this.S.yi(d,this,p,this.S.Je()))};k.prototype.Ha=function(d,b,a){var c=this.b.devicePixelRatio;this.b.Te&&0<this.b.wb&&(d*=c,b*=c);var c=this.b.Za/2,f=this.b.Ya/2,c=(this.S.scrollX-c)*this.Vc+c,f=(this.S.scrollY-f)*this.Wc+f,
e=1/this.xb(),c=c-this.b.width*e/2,f=f-this.b.height*e/2,c=c+d*e,f=f+b*e;b=this.ib();0!==b&&(c-=this.S.scrollX,f-=this.S.scrollY,d=Math.cos(b),b=Math.sin(b),e=c*d-f*b,f=f*d+c*b,c=e+this.S.scrollX,f+=this.S.scrollY);return a?c:f};k.prototype.Ab=function(d,b,a){var c=this.ib();if(0!==c){d-=this.S.scrollX;b-=this.S.scrollY;var f=Math.cos(-c),c=Math.sin(-c),e=d*f-b*c;b=b*f+d*c;d=e+this.S.scrollX;b+=this.S.scrollY}f=this.b.Za/2;c=this.b.Ya/2;f=(this.S.scrollX-f)*this.Vc+f;c=(this.S.scrollY-c)*this.Wc+
c;e=1/this.xb();f-=this.b.width*e/2;c-=this.b.height*e/2;f=(d-f)/e;c=(b-c)/e;d=this.b.devicePixelRatio;this.b.Te&&0<this.b.wb&&(f/=d,c/=d);return a?f:c};k.prototype.Xb=function(){var b,f,a,c={s:this.scale,a:this.g,vl:this.Gb,vt:this.Ib,vr:this.Hb,vb:this.Fb,v:this.visible,bc:this.Lc,t:this.Id,px:this.Vc,py:this.Wc,o:this.opacity,zr:this.Jc,fx:[],instances:[]};b=0;for(f=this.A.length;b<f;b++)a=this.A[b],c.fx.push({name:a.name,active:a.sc,params:this.ba[a.index]});return c};k.prototype.Cc=function(b){var h,
a;this.scale=b.s;this.g=b.a;this.Gb=b.vl;this.Ib=b.vt;this.Hb=b.vr;this.Fb=b.vb;this.visible=b.v;this.Lc=b.bc;this.Id=b.t;this.Vc=b.px;this.Wc=b.py;this.opacity=b.o;this.Jc=b.zr;var c=b.fx;b=0;for(h=c.length;b<h;b++)if(a=this.zh(c[b].name))a.sc=c[b].active,this.ba[a.index]=c[b].params;this.Ic();this.c.sort(f);this.fb=l};hb=k})();
(function(){function b(a,b){var c,d=a.length;switch(d){case 0:return l;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return q;return l}}function k(a,b){return a.index-b.index}function f(a){var c,d,e,g;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(k);a.length>=x.length&&(x.length=a.length+1);x[a.length]||(x[a.length]=[]);g=x[a.length];c=0;for(d=g.length;c<d;c++)if(e=g[c],b(a,e))return e;g.push(a);return a}
function h(a,c){this.b=a;this.ul={};this.Ij={};this.Fh=q;this.Yj=new Oa;this.name=c[0];var b=c[1];this.Qc=[];var d,e;d=0;for(e=b.length;d<e;d++)this.$j(b[d],p,this.Qc)}function d(a){this.type=a;this.c=[];this.T=[];this.X=l}function n(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ea=[];this.ad=[];this.Wj=this.Kg=this.Ri=this.Jh=this.group=this.ll=q;this.ga=[];this.ob=[];this.Eb=[];b[1]?(this.Le=b[1][1].toLowerCase(),this.group=l,this.Jh=!!b[1][0],this.b.Md.push(this),this.b.Df[this.Le.toLowerCase()]=
this.Jh):(this.Le="",this.Jh=this.group=q);this.nc=b[2];this.H=b[3];this.group||(this.b.oj[this.H.toString()]=this);var d=b[4];a=0;for(c=d.length;a<c;a++){var e=new ib(this,d[a]);this.ga.push(e);this.ij(e.type)}d=b[5];a=0;for(c=d.length;a<c;a++)e=new jb(this,d[a]),this.ob.push(e);if(7===b.length){b=b[6];a=0;for(c=b.length;a<c;a++)this.sheet.$j(b[a],this,this.Eb)}this.eg=q;this.ga.length&&(this.eg=this.ga[0].type==p&&this.ga[0].ja==V.prototype.i.Fl)}function a(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&
b.push(a),a.lb)){c=0;for(d=a.Na.length;c<d;c++)e=a.Na[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}function c(a,b){this.pb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.C=[];this.Z={};this.ja=b[1];this.trigger=0<b[3];this.Hj=2===b[3];this.Dc=b[4];this.Qe=b[5];this.Wn=b[6];this.H=b[7];this.b.Od[this.H.toString()]=this;-1===b[0]?(this.type=p,this.ta=this.Ei,this.pd=p,this.za=-1):(this.type=this.b.j[b[0]],this.ta=this.Wn?this.Ao:this.Di,b[2]?(this.pd=this.type.Uf(b[2]),this.za=this.type.yh(b[2])):(this.pd=
p,this.za=-1),this.pb.parent&&this.pb.parent.Fg());this.Hj&&(this.ta=this.Bo);if(9===b.length){var c,d,e=b[8];c=0;for(d=e.length;c<d;c++){var g=new kb(this,e[c]);this.n.push(g)}this.C.length=e.length}}function w(a,b){this.pb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.C=[];this.Z={};this.ja=b[1];-1===b[0]?(this.type=p,this.ta=this.Ei,this.pd=p,this.za=-1):(this.type=this.b.j[b[0]],this.ta=this.Di,b[2]?(this.pd=this.type.Uf(b[2]),this.za=this.type.yh(b[2])):(this.pd=p,this.za=-1));this.H=b[3];this.b.Ld[this.H.toString()]=
this;if(5===b.length){var c,d,e=b[4];c=0;for(d=e.length;c<d;c++){var g=new kb(this,e[c]);this.n.push(g)}this.C.length=e.length}}function e(a,b){this.p=a;this.pb=a.pb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.jc=p;this.xj=this.bd=0;this.S=p;this.key=0;this.object=p;this.index=0;this.Og=this.pe=this.Jj=this.xd=this.Af=p;var c,d,e;switch(b[0]){case 0:case 7:this.jc=new U(this,b[1]);this.bd=0;this.get=this.zn;break;case 1:this.jc=new U(this,b[1]);this.bd=0;this.get=this.An;break;case 5:this.jc=
new U(this,b[1]);this.bd=0;this.get=this.En;break;case 3:case 8:this.xj=b[1];this.get=this.xn;break;case 6:this.S=this.b.Th[b[1]];this.get=this.Fn;break;case 9:this.key=b[1];this.get=this.Dn;break;case 4:this.object=this.b.j[b[1]];this.get=this.Gn;this.pb.ij(this.object);this.p instanceof jb?this.pb.Fg():this.pb.parent&&this.pb.parent.Fg();break;case 10:this.index=b[1];this.get=a.type.G?this.Bn:this.Cn;break;case 11:this.Af=b[1];this.xd=p;this.get=this.yn;break;case 2:case 12:this.Jj=b[1];this.get=
this.wn;break;case 13:this.get=this.Hn;this.pe=[];this.Og=[];c=1;for(d=b.length;c<d;c++)e=new kb(this.p,b[c]),this.pe.push(e),this.Og.push(0)}}function g(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ea=[];this.name=c[1];this.Dl=c[2];this.Ih=c[3];this.We=!!c[4];this.dg=!!c[5];this.H=c[6];this.b.re[this.H.toString()]=this;this.data=this.Ih;this.parent?this.Cd=this.We||this.dg?-1:this.b.Ho++:(this.Cd=-1,this.b.cm.push(this))}function m(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ea=[];this.Oe=
p;this.Ln=c[1]}function s(){this.ml=[];this.reset(p)}var x=[];h.prototype.toString=N("name");h.prototype.$j=function(a,b,c){switch(a[0]){case 0:a=new lb(this,b,a);if(a.nc){c.push(a);c=0;for(b=a.ga.length;c<b;c++)a.ga[c].trigger&&this.ak(a,c)}else a.fk()?this.ak(a,0):c.push(a);break;case 1:a=new ab(this,b,a);c.push(a);break;case 2:a=new mb(this,b,a),c.push(a)}};h.prototype.da=function(){var a,b;a=0;for(b=this.Qc.length;a<b;a++)this.Qc[a].da(a<b-1&&this.Qc[a+1].eg)};h.prototype.ta=function(){this.Fh=
l;this.b.Nh=l;var a,b;a=0;for(b=this.Qc.length;a<b;a++){var c=this.Qc[a];c.ta();this.b.hh(c.ea);(!this.b.hc.Re()||this.b.gc.length)&&this.b.Da()}this.b.Nh=q};h.prototype.ak=function(a,b){a.nc||this.b.Mg.push(a);var c,d,e=a.ga[b],g;g=e.type?e.type.name:"system";var f=(c=e.Hj)?this.Ij:this.ul;f[g]||(f[g]=[]);g=f[g];f=e.ja;if(c){if(e.n.length&&(e=e.n[0],!(1!==e.type||2!==e.jc.type))){e=e.jc.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].Qf;c[e]?c[e].push([a,b]):c[e]=[[a,b]];
return}c={};c[e]=[[a,b]];g.push({method:f,Qf:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].Qf.push([a,b]);return}g.push({method:f,Qf:[[a,b]]})}};Za=h;d.prototype.Eh=function(){return this.X?this.type.c.length:this.c.length};d.prototype.Pb=function(){return this.X?this.type.c:this.c};d.prototype.kf=function(a){a&&(a.b.Sa().sb.nc?(this.X&&(this.c.length=0,ra(this.T,a.type.c),this.X=q),a=this.T.indexOf(a),-1!==a&&(this.c.push(this.T[a]),this.T.splice(a,1))):(this.X=q,this.c.length=1,this.c[0]=
a))};Xa=d;n.prototype.da=function(a){var b,c=this.parent;if(this.group)for(this.Kg=l;c;){if(!c.group){this.Kg=q;break}c=c.parent}this.Ri=!this.fk()&&(!this.parent||this.parent.group&&this.parent.Kg);this.Wj=!!a;this.ad=this.ea.slice(0);for(c=this.parent;c;){a=0;for(b=c.ea.length;a<b;a++)this.am(c.ea[a]);c=c.parent}this.ea=f(this.ea);this.ad=f(this.ad);a=0;for(b=this.ga.length;a<b;a++)this.ga[a].da();a=0;for(b=this.ob.length;a<b;a++)this.ob[a].da();a=0;for(b=this.Eb.length;a<b;a++)this.Eb[a].da(a<
b-1&&this.Eb[a+1].eg)};n.prototype.ij=function(b){a(b,this.ea)};n.prototype.am=function(b){a(b,this.ad)};n.prototype.Fg=function(){this.ll=l;this.parent&&this.parent.Fg()};n.prototype.fk=function(){return this.ga.length?this.ga[0].trigger:q};n.prototype.ta=function(){var a,b=q,c=this.b.Sa();c.sb=this;this.eg||(c.ph=q);if(this.nc){0===this.ga.length&&(b=l);c.Ma=0;for(a=this.ga.length;c.Ma<a;c.Ma++)this.ga[c.Ma].trigger||this.ga[c.Ma].ta()&&(b=l);(c.Yd=b)&&this.Ci()}else{c.Ma=0;for(a=this.ga.length;c.Ma<
a;c.Ma++)if(!this.ga[c.Ma].ta()){c.Yd=q;this.Ri&&(!this.b.hc.Re()||this.b.gc.length)&&this.b.Da();return}c.Yd=l;this.Ci()}c.Yd&&this.Wj&&(c.ph=l);this.Ri&&(!this.b.hc.Re()||this.b.gc.length)&&this.b.Da()};n.prototype.yo=function(a){this.b.Sa().sb=this;this.ga[a].ta()&&this.Ci()};n.prototype.Ci=function(){var a=this.b.Sa(),c;a.gb=0;for(c=this.ob.length;a.gb<c;a.gb++)if(this.ob[a.gb].ta())return;this.$k()};n.prototype.vo=function(){var a=this.b.Sa(),c;for(c=this.ob.length;a.gb<c;a.gb++)if(this.ob[a.gb].ta())return;
this.$k()};n.prototype.$k=function(){if(this.Eb.length){var a,c,b,d,e=this.Eb.length-1;this.b.ti(this);if(this.ll){a=0;for(c=this.Eb.length;a<c;a++)b=this.Eb[a],(d=!this.Kg||!this.group&&a<e)&&this.b.si(b.ea),b.ta(),d?this.b.me(b.ea):this.b.hh(b.ea)}else{a=0;for(c=this.Eb.length;a<c;a++)this.Eb[a].ta()}this.b.Qk()}};n.prototype.zo=function(){var a=this.b.Sa();a.sb=this;var c=q,b;a.Ma=0;for(b=this.ga.length;a.Ma<b;a.Ma++)if(this.ga[a.Ma].ta())c=l;else if(!this.nc)return q;return this.nc?c:l};lb=n;
c.prototype.da=function(){var a,c;a=0;for(c=this.n.length;a<c;a++)this.n[a].da()};c.prototype.Bo=O(l);c.prototype.Ei=function(){var a,c;a=0;for(c=this.n.length;a<c;a++)this.C[a]=this.n[a].get();return Ka(this.ja.apply(this.b.qc,this.C),this.Qe)};c.prototype.Ao=function(){var a,c;a=0;for(c=this.n.length;a<c;a++)this.C[a]=this.n[a].get(a);a=this.ja.apply(this.pd?this.pd:this.type,this.C);this.type.ve();return a};c.prototype.Di=function(){var a,c,b,d,e,g,f,m=this.type.R(),h=this.pb.nc&&!this.trigger,
s=0,x=this.type.lb;if(m.X){m.c.length=0;a=m.T.length=0;for(b=this.type.c.length;a<b;a++){g=this.type.c[a];c=0;for(d=this.n.length;c<d;c++)this.C[c]=this.n[c].get(a);-1<this.za?(this.type.G&&(s=g.type.Qd[this.type.kc]),c=this.ja.apply(g.I[this.za+s],this.C)):c=this.ja.apply(g,this.C);(e=Ka(c,this.Qe))?m.c.push(g):h&&m.T.push(g)}this.type.finish&&this.type.finish(l);m.X=q;this.type.ve();return m.Eh()}var k=0,u=h?m.T:m.c;e=q;a=0;for(b=u.length;a<b;a++){g=u[a];c=0;for(d=this.n.length;c<d;c++)this.C[c]=
this.n[c].get(a);-1<this.za?(this.type.G&&(s=g.type.Qd[this.type.kc]),c=this.ja.apply(g.I[this.za+s],this.C)):c=this.ja.apply(g,this.C);if(Ka(c,this.Qe))if(e=l,h){if(m.c.push(g),x){c=0;for(d=g.siblings.length;c<d;c++)f=g.siblings[c],f.type.R().c.push(f)}}else{u[k]=g;if(x){c=0;for(d=g.siblings.length;c<d;c++)f=g.siblings[c],f.type.R().c[k]=f}k++}else if(h){u[k]=g;if(x){c=0;for(d=g.siblings.length;c<d;c++)f=g.siblings[c],f.type.R().T[k]=f}k++}}u.length=k;if(x){a=0;for(b=this.type.Na.length;a<b;a++)g=
this.type.Na[a].R(),h?g.T.length=k:g.c.length=k}s=e;if(h&&!e){a=0;for(b=m.c.length;a<b;a++){g=m.c[a];c=0;for(d=this.n.length;c<d;c++)this.C[c]=this.n[c].get(a);c=-1<this.za?this.ja.apply(g.I[this.za],this.C):this.ja.apply(g,this.C);if(Ka(c,this.Qe)){e=l;break}}}this.type.finish&&this.type.finish(s||h);return h?e:m.Eh()};ib=c;w.prototype.da=function(){var a,c;a=0;for(c=this.n.length;a<c;a++)this.n[a].da()};w.prototype.Ei=function(){var a,c;a=0;for(c=this.n.length;a<c;a++)this.C[a]=this.n[a].get();
return this.ja.apply(this.b.qc,this.C)};w.prototype.Di=function(){var a=this.type.R().Pb(),c,b,d,e,g;c=0;for(d=a.length;c<d;c++){g=a[c];b=0;for(e=this.n.length;b<e;b++)this.C[b]=this.n[b].get(c);-1<this.za?(b=0,this.type.G&&(b=g.type.Qd[this.type.kc]),this.ja.apply(g.I[this.za+b],this.C)):this.ja.apply(g,this.C)}return q};jb=w;var u=[],v=-1;e.prototype.da=function(){var a,c;if(11===this.type)this.xd=this.b.Oj(this.Af,this.pb.parent);else if(13===this.type){a=0;for(c=this.pe.length;a<c;a++)this.pe[a].da()}this.jc&&
this.jc.da()};e.prototype.ra=function(){v++;u.length===v&&u.push(new nb);return u[v]};e.prototype.la=function(){v--};e.prototype.zn=function(a){this.bd=a||0;a=this.ra();this.jc.get(a);this.la();return a.data};e.prototype.An=function(a){this.bd=a||0;a=this.ra();this.jc.get(a);this.la();return S(a.data)?a.data:""};e.prototype.Gn=N("object");e.prototype.xn=N("xj");e.prototype.En=function(a){this.bd=a||0;a=this.ra();this.jc.get(a);this.la();return a.wa()?this.b.Ie(a.data):this.b.Bh(a.data)};e.prototype.Fn=
N("S");e.prototype.Dn=N("key");e.prototype.Cn=N("index");e.prototype.Bn=function(a){var c=this.p.type,b=p,b=c.R(),d=b.Pb(),b=d.length?d[a%d.length].type:b.T[a%b.T.length].type;return this.index+b.Rf[c.kc]};e.prototype.yn=N("xd");e.prototype.wn=N("Jj");e.prototype.Hn=function(){var a,c;a=0;for(c=this.pe.length;a<c;a++)this.Og[a]=this.pe[a].get();return this.Og};kb=e;g.prototype.da=function(){this.ea=f(this.ea)};g.prototype.Gg=function(a){var c=this.b.Nj();!this.parent||this.We||!c?this.data=a:(this.Cd>=
c.length&&(c.length=this.Cd+1),c[this.Cd]=a)};g.prototype.Sj=function(){var a=this.b.Nj();return!this.parent||this.We||!a||this.dg?this.data:this.Cd>=a.length||"undefined"===typeof a[this.Cd]?this.Ih:a[this.Cd]};g.prototype.ta=function(){this.parent&&(!this.We&&!this.dg)&&this.Gg(this.Ih)};ab=g;m.prototype.toString=function(){return"include:"+this.Oe.toString()};m.prototype.da=function(){this.Oe=this.b.rh[this.Ln];this.sheet.Yj.add(this);this.ea=f(this.ea)};m.prototype.ta=function(){this.parent&&
this.b.mf(this.b.j);this.Oe.Fh||this.Oe.ta();this.parent&&this.b.me(this.b.j)};m.prototype.Nn=function(){for(var a=this.parent;a;){if(a.group&&!this.b.Df[a.Le.toLowerCase()])return q;a=a.parent}return l};mb=m;s.prototype.reset=function(a){this.sb=a;this.gb=this.Ma=0;this.ml.length=0;this.ph=this.Yd=q};$a=s})();
(function(){function b(b,h){this.p=b;this.b=b.b;this.type=h[0];this.get=[this.Nm,this.Jm,this.Vm,this.Ym,this.Dm,this.Wm,this.Rm,this.Gm,this.Qm,this.Um,this.Em,this.Tm,this.Hm,this.Sm,this.Om,this.Pm,this.Km,this.Lm,this.Fm,this.Xm,this.Fj,this.Mm,this.Fj,this.Im][this.type];var d=p;this.Xa=this.n=this.C=this.ja=this.Jg=this.ya=this.first=this.value=p;this.za=-1;this.zc=p;this.Wi=-1;this.xd=this.Af=this.dm=p;this.nf=q;switch(this.type){case 0:case 1:case 2:this.value=h[1];break;case 3:this.first=
new U(b,h[1]);break;case 18:this.first=new U(b,h[1]);this.ya=new U(b,h[2]);this.Jg=new U(b,h[3]);break;case 19:this.ja=h[1];this.C=[];this.n=[];3===h.length?(d=h[2],this.C.length=d.length+1):this.C.length=1;break;case 20:this.Xa=this.b.j[h[1]];this.za=-1;this.ja=h[2];this.nf=h[3];this.zc=h[4]?new U(b,h[4]):p;this.C=[];this.n=[];6===h.length?(d=h[5],this.C.length=d.length+1):this.C.length=1;break;case 21:this.Xa=this.b.j[h[1]];this.nf=h[2];this.zc=h[3]?new U(b,h[3]):p;this.Wi=h[4];break;case 22:this.Xa=
this.b.j[h[1]];this.dm=this.Xa.Uf(h[2]);this.za=this.Xa.yh(h[2]);this.ja=h[3];this.nf=h[4];this.zc=h[5]?new U(b,h[5]):p;this.C=[];this.n=[];7===h.length?(d=h[6],this.C.length=d.length+1):this.C.length=1;break;case 23:this.Af=h[1],this.xd=p}4<=this.type&&17>=this.type&&(this.first=new U(b,h[1]),this.ya=new U(b,h[2]));if(d){var k,a;k=0;for(a=d.length;k<a;k++)this.n.push(new U(b,d[k]))}}function k(b,h){this.type=b||ob.te;this.data=h||0;this.ge=p;this.type==ob.te&&(this.data=Math.floor(this.data))}b.prototype.da=
function(){23===this.type&&(this.xd=this.p.b.Oj(this.Af,this.p.pb.parent));this.first&&this.first.da();this.ya&&this.ya.da();this.Jg&&this.Jg.da();this.zc&&this.zc.da();if(this.n){var b,h;b=0;for(h=this.n.length;b<h;b++)this.n[b].da()}};b.prototype.Xm=function(b){this.C[0]=b;b=this.p.ra();var h,d;h=0;for(d=this.n.length;h<d;h++)this.n[h].get(b),this.C[h+1]=b.data;this.p.la();this.ja.apply(this.b.qc,this.C)};b.prototype.Fj=function(b){var h=this.Xa.R(),d=h.Pb();if(!d.length)if(h.T.length)d=h.T;else{this.nf?
b.Zb(""):b.Y(0);return}this.C[0]=b;b.ge=this.Xa;b=this.p.ra();var k,h=0;for(k=this.n.length;h<k;h++)this.n[h].get(b),this.C[h+1]=b.data;h=this.p.bd;this.zc&&(this.zc.get(b),b.wa()&&(h=b.data,d=this.Xa.c));this.p.la();h%=d.length;0>h&&(h+=d.length);d=d[h];-1<this.za?(b=0,this.Xa.G&&(b=d.type.Qd[this.Xa.kc]),this.ja.apply(d.I[this.za+b],this.C)):this.ja.apply(d,this.C)};b.prototype.Mm=function(b){var h=this.Xa.R(),d=h.Pb();if(!d.length)if(h.T.length)d=h.T;else{this.nf?b.Zb(""):b.Y(0);return}h=this.p.bd;
if(this.zc){var k=this.p.ra();this.zc.get(k);if(k.wa()){h=k.data;d=this.Xa.c;h%=d.length;0>h&&(h+=d.length);d=d[h].va[this.Wi];S(d)?b.Zb(d):b.B(d);this.p.la();return}this.p.la()}h%=d.length;0>h&&(h+=d.length);d=d[h];h=0;this.Xa.G&&(h=d.type.Rf[this.Xa.kc]);d=d.va[this.Wi+h];S(d)?b.Zb(d):b.B(d)};b.prototype.Nm=function(b){b.type=ob.te;b.data=this.value};b.prototype.Jm=function(b){b.type=ob.se;b.data=this.value};b.prototype.Vm=function(b){b.type=ob.$g;b.data=this.value};b.prototype.Ym=function(b){this.first.get(b);
b.wa()&&(b.data=-b.data)};b.prototype.Dm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data+=h.data,h.Wd()&&b.fe());this.p.la()};b.prototype.Wm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data-=h.data,h.Wd()&&b.fe());this.p.la()};b.prototype.Rm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data*=h.data,h.Wd()&&b.fe());this.p.la()};b.prototype.Gm=function(b){this.first.get(b);var h=this.p.ra();
this.ya.get(h);b.wa()&&h.wa()&&(b.data/=h.data,b.fe());this.p.la()};b.prototype.Qm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data%=h.data,h.Wd()&&b.fe());this.p.la()};b.prototype.Um=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data=Math.pow(b.data,h.data),h.Wd()&&b.fe());this.p.la()};b.prototype.Em=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()?h.fg()?b.Zb(b.data.toString()+h.data):b.data&&h.data?b.Y(1):
b.Y(0):b.fg()&&(b.data=h.fg()?b.data+h.data:b.data+(Math.round(1E10*h.data)/1E10).toString());this.p.la()};b.prototype.Tm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.wa()&&h.wa()&&(b.data||h.data?b.Y(1):b.Y(0));this.p.la()};b.prototype.Fm=function(b){this.first.get(b);b.data?this.ya.get(b):this.Jg.get(b)};b.prototype.Hm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.Y(b.data===h.data?1:0);this.p.la()};b.prototype.Sm=function(b){this.first.get(b);var h=this.p.ra();
this.ya.get(h);b.Y(b.data!==h.data?1:0);this.p.la()};b.prototype.Om=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.Y(b.data<h.data?1:0);this.p.la()};b.prototype.Pm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.Y(b.data<=h.data?1:0);this.p.la()};b.prototype.Km=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.Y(b.data>h.data?1:0);this.p.la()};b.prototype.Lm=function(b){this.first.get(b);var h=this.p.ra();this.ya.get(h);b.Y(b.data>=h.data?1:0);this.p.la()};
b.prototype.Im=function(b){var h=this.xd.Sj();ca(h)?b.B(h):b.Zb(h)};U=b;k.prototype.Wd=function(){return this.type===ob.se};k.prototype.wa=function(){return this.type===ob.te||this.type===ob.se};k.prototype.fg=function(){return this.type===ob.$g};k.prototype.fe=function(){this.Wd()||(this.fg()&&(this.data=parseFloat(this.data)),this.type=ob.se)};k.prototype.Y=function(b){this.type=ob.te;this.data=Math.floor(b)};k.prototype.B=function(b){this.type=ob.se;this.data=b};k.prototype.Zb=function(b){this.type=
ob.$g;this.data=b};nb=k;ob={te:0,se:1,$g:2}})();function V(b){this.b=b;this.eb=[]}
V.prototype.Xb=function(){var b={},k,f,h,d,n,a,c,w;b.waits=[];var e=b.waits,g;k=0;for(f=this.eb.length;k<f;k++){a=this.eb[k];g={t:a.time,ev:a.Ce.H,sm:[],sols:{}};a.Ce.ob[a.gb]&&(g.act=a.Ce.ob[a.gb].H);h=0;for(d=a.ea.length;h<d;h++)g.sm.push(a.ea[h].H);for(n in a.ab)if(a.ab.hasOwnProperty(n)){c=this.b.j[parseInt(n,10)];w={sa:a.ab[n].al,insts:[]};h=0;for(d=a.ab[n].Ad.length;h<d;h++)w.insts.push(a.ab[n].Ad[h].uid);g.sols[c.H.toString()]=w}e.push(g)}return b};
V.prototype.Cc=function(b){b=b.waits;var k,f,h,d,n,a,c,w,e,g,m;k=this.eb.length=0;for(f=b.length;k<f;k++)if(a=b[k],w=this.b.oj[a.ev.toString()]){e=-1;h=0;for(d=w.ob.length;h<d;h++)if(w.ob[h].H===a.act){e=h;break}if(-1!==e){c={ab:{},ea:[],Cj:q};c.time=a.t;c.Ce=w;c.gb=e;h=0;for(d=a.sm.length;h<d;h++)(w=this.b.Yf(a.sm[h]))&&c.ea.push(w);for(n in a.sols)if(a.sols.hasOwnProperty(n)&&(w=this.b.Yf(parseInt(n,10)))){e=a.sols[n];g={al:e.sa,Ad:[]};h=0;for(d=e.insts.length;h<d;h++)(m=this.b.Xf(e.insts[h]))&&
g.Ad.push(m);c.ab[w.index.toString()]=g}this.eb.push(c)}}};
(function(){function b(){}function k(){}function f(){}var h=V.prototype;b.prototype.Ll=O(l);b.prototype.Kl=O(l);b.prototype.Qg=function(a,b,d){return Xb(a.Sj(),b,d)};b.prototype.Fl=function(){var a=this.b.Sa();return a.ph?q:!a.Yd};b.prototype.$i=O(l);b.prototype.Il=O(l);b.prototype.Vg=O(l);b.prototype.Ml=O(l);b.prototype.Ug=O(l);h.i=new b;k.prototype.Ul=function(a,b){0===a.Dl?ca(b)?a.Gg(b):a.Gg(parseFloat(b)):1===a.Dl&&a.Gg(b.toString())};var d=[],n=[];h.ma=new k;f.prototype["int"]=function(a,b){S(b)?
(a.Y(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Y(b)};f.prototype["float"]=function(a,b){S(b)?(a.B(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.B(b)};f.prototype.random=function(a,b,d){void 0===d?a.B(Math.random()*b):a.B(Math.random()*(d-b)+b)};f.prototype.sqrt=function(a,b){a.B(Math.sqrt(b))};f.prototype.round=function(a,b){a.Y(Math.round(b))};f.prototype.floor=function(a,b){a.Y(Math.floor(b))};f.prototype.ceil=function(a,b){a.Y(Math.ceil(b))};f.prototype.sin=function(a,b){a.B(Math.sin(T(b)))};
f.prototype.cos=function(a,b){a.B(Math.cos(T(b)))};f.prototype.tan=function(a,b){a.B(Math.tan(T(b)))};f.prototype.acos=function(a,b){a.B(ta(Math.acos(b)))};f.prototype.exp=function(a,b){a.B(Math.exp(b))};f.prototype.max=function(a){var b=arguments[1],d,e;d=2;for(e=arguments.length;d<e;d++)b<arguments[d]&&(b=arguments[d]);a.B(b)};f.prototype.min=function(a){var b=arguments[1],d,e;d=2;for(e=arguments.length;d<e;d++)b>arguments[d]&&(b=arguments[d]);a.B(b)};f.prototype.ud=function(a){a.B(this.b.ud)};
f.prototype.Hd=function(a){a.B(this.b.Hd)};f.prototype.time=function(a){a.B(this.b.Rb.nb)};f.prototype.xf=function(a){a.Y(this.b.xf)};f.prototype.vg=function(a){a.Y(this.b.vg)};f.prototype.vh=function(a){a.Y(this.b.vh)};f.prototype.g=function(a,b,d,e,g){a.B(ta(Ca(b,d,e,g)))};f.prototype.left=function(a,b,d){a.Zb(S(b)?b.substr(0,d):"")};f.prototype.right=function(a,b,d){a.Zb(S(b)?b.substr(b.length-d):"")};f.prototype.replace=function(a,b,d,e){S(b)&&S(d)&&S(e)?a.Zb(b.replace(RegExp(Qa(d),"gi"),e)):
a.Zb(S(b)?b:"")};f.prototype.ih=function(a){a.B(this.b.ih/1E3)};f.prototype.$d=function(a){a.B(this.b.$d)};h.hb=new f;h.xo=function(){var a,b,f,e,g,m,h=this.b.Sa();a=0;for(f=this.eb.length;a<f;a++)if(e=this.eb[a],!(e.time>this.b.Rb.nb)){h.sb=e.Ce;h.gb=e.gb;h.Ma=0;for(b in e.ab)e.ab.hasOwnProperty(b)&&(g=this.b.j[parseInt(b,10)].R(),m=e.ab[b],g.X=m.al,ra(g.c,m.Ad),g=m,g.Ad.length=0,n.push(g));e.Ce.vo();this.b.hh(e.ea);e.Cj=l}b=a=0;for(f=this.eb.length;a<f;a++)e=this.eb[a],this.eb[b]=e,e.Cj?(Ma(e.ab),
e.ea.length=0,d.push(e)):b++;this.eb.length=b}})();
function yb(b){var k=b[0].prototype,f=b[1],h=b[3],d=b[4],n=b[5],a=b[6],c=b[7];b=b[8];k.i||(k.i={});k.ma||(k.ma={});k.hb||(k.hb={});var w=k.i,e=k.ma,k=k.hb;h&&(w.fp=function(a,b){return Xb(this.x,a,b)},w.gp=function(a,b){return Xb(this.y,a,b)},w.op=function(){var a=this.d;this.ec();var b=this.N;return!(b.right<a.Gb||b.bottom<a.Ib||b.left>a.Hb||b.top>a.Fb)},w.pp=function(){this.ec();var a=this.N,b=this.b.O;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},w.Bp=function(a,b,c){var d=this.R(),
e=d.Pb();if(!e.length)return q;var f=e[0],h=f,k=Ja(f.x,f.y,b,c),n,w,E;n=1;for(w=e.length;n<w;n++)if(f=e[n],E=Ja(f.x,f.y,b,c),0===a&&E<k||1===a&&E>k)k=E,h=f;d.kf(h);return l},e.Yg=function(a){this.x!==a&&(this.x=a,this.Ba())},e.Wp=function(a){this.y!==a&&(this.y=a,this.Ba())},e.Qp=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ba()},e.Rp=function(a,b){var c=a.sn(this);if(c){var d;c.He?(d=c.He(b,l),c=c.He(b,q)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ba()}},e.up=
function(a){0!==a&&(this.x+=Math.cos(this.g)*a,this.y+=Math.sin(this.g)*a,this.Ba())},e.tp=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.Ba())},k.Cf=function(a){a.B(this.x)},k.Vl=function(a){a.B(this.y)},k.ud=function(a){a.B(this.b.mn(this))});d&&(w.ep=function(a,b){return Xb(this.width,a,b)},w.bp=function(a,b){return Xb(this.height,a,b)},e.Vp=function(a){this.width!==a&&(this.width=a,this.Ba())},e.Np=function(a){this.height!==a&&(this.height=a,this.Ba())},e.Sp=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ba()},k.$p=function(a){a.B(this.width)},k.ip=function(a){a.B(this.height)},k.Yo=function(a){this.ec();a.B(this.N.left)},k.$o=function(a){this.ec();a.B(this.N.top)},k.Zo=function(a){this.ec();a.B(this.N.right)},k.Xo=function(a){this.ec();a.B(this.N.bottom)});n&&(w.Wo=function(a,b){return Da(this.g,T(b))<=T(a)},w.mp=function(a){return Fa(this.g,T(a))},w.kp=function(a,b){var c=ya(a),d=ya(b),e=va(this.g);return Fa(d,c)?Fa(e,c)&&!Fa(e,
d):!(!Fa(e,c)&&Fa(e,d))},e.Jp=function(a){a=T(ua(a));!isNaN(a)&&this.g!==a&&(this.g=a,this.Ba())},e.Fp=function(a){0!==a&&!isNaN(a)&&(this.g+=T(a),this.g=va(this.g),this.Ba())},e.Gp=function(a){0!==a&&!isNaN(a)&&(this.g-=T(a),this.g=va(this.g),this.Ba())},e.Hp=function(a,b){var c=Ea(this.g,T(b),T(a));!isNaN(c)&&this.g!==c&&(this.g=c,this.Ba())},e.Ip=function(a,b,c){a=Ea(this.g,Math.atan2(c-this.y,b-this.x),T(a));!isNaN(a)&&this.g!==a&&(this.g=a,this.Ba())},e.Tp=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);!isNaN(c)&&this.g!==c&&(this.g=c,this.Ba())},k.Vo=function(a){a.B(xa(this.g))});f||(w.cp=function(a,b,c){return Xb(this.va[a],b,c)},w.lp=function(a){return this.va[a]},w.Cp=function(a,b){var c=this.R(),d=c.Pb();if(!d.length)return q;var e=d[0],f=e,h=e.va[b],k,n,w;k=1;for(n=d.length;k<n;k++)if(e=d[k],w=e.va[b],0===a&&w<h||1===a&&w>h)h=w,f=e;c.kf(f);return l},w.Ap=function(a){var b,c,d,e,f;if(this.b.ln().Qe){f=this.R();if(f.X){f.X=q;f.c.length=0;f.T.length=0;d=this.c;b=0;for(c=d.length;b<
c;b++)e=d[b],e.uid===a?f.T.push(e):f.c.push(e)}else{d=b=0;for(c=f.c.length;b<c;b++)e=f.c[b],f.c[d]=e,e.uid===a?f.T.push(e):d++;f.c.length=d}return!!f.c.length}e=this.b.Xf(a);if(!e)return q;f=this.R();if(!f.X&&-1===f.c.indexOf(e))return q;if(this.G){a=e.type.U;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return f.kf(e),l}else if(e.type===this)return f.kf(e),l;return q},w.Sg=O(l),w.Jl=O(l),e.Op=function(a,b){var c=this.va;ca(c[a])?c[a]=ca(b)?b:parseFloat(b):S(c[a])&&(c[a]=S(b)?b:b.toString())},e.Uo=function(a,
b){var c=this.va;ca(c[a])?c[a]=ca(b)?c[a]+b:c[a]+parseFloat(b):S(c[a])&&(c[a]=S(b)?c[a]+b:c[a]+b.toString())},e.Xp=function(a,b){var c=this.va;ca(c[a])&&(c[a]=ca(b)?c[a]-b:c[a]-parseFloat(b))},e.Kp=function(a,b){this.va[a]=b?1:0},e.Yp=function(a){this.va[a]=1-this.va[a]},e.Kd=function(){this.b.md(this)},k.hp=function(a){var b=a.ge.c.length,c,d,e;c=0;for(d=this.b.gc.length;c<d;c++)e=this.b.gc[c],a.ge.G?0<=e.type.U.indexOf(a.ge)&&b++:e.type===a.ge&&b++;a.Y(b)},k.Ep=function(a){a.Y(a.ge.R().Pb().length)},
k.Zp=function(a){a.Y(this.uid)},k.jp=function(a){a.Y(this.Ke())});a&&(w.qp=N("visible"),e.Up=function(a){!a!==!this.visible&&(this.visible=a,this.b.W=l)},w.dp=function(a,b){return Xb(Va(100*this.opacity),a,b)},e.Pp=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.W=l)},k.Opacity=function(a){a.B(Va(100*this.opacity))});c&&(w.np=function(a){return!a?q:this.d===a},w.Dp=function(a){var b=this.R(),c=b.Pb();if(!c.length)return q;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=
c[f],0===a){if(d.d.index>e.d.index||d.d.index===e.d.index&&d.kb()>e.kb())e=d}else if(d.d.index<e.d.index||d.d.index===e.d.index&&d.kb()<e.kb())e=d;b.kf(e);return l},e.xp=function(){var a=this.kb();a!==this.d.c.length-1&&(qa(this.d.c,a),this.d.c.push(this),this.b.W=l,this.d.fb=l)},e.vp=function(){var a=this.kb();0!==a&&(qa(this.d.c,a),this.d.c.unshift(this),this.b.W=l,this.d.fb=l)},e.wp=function(a){a&&a!=this.d&&(qa(this.d.c,this.kb()),this.d.fb=l,this.d=a,this.Jd=a.c.length,a.c.push(this),this.b.W=
l)},e.bq=function(a,b){var c=0===a;if(b){var d=b.nn(this);if(d&&d.uid!==this.uid){this.d.index!==d.d.index&&(qa(this.d.c,this.kb()),this.d.fb=l,this.d=d.d,this.Jd=d.d.c.length,d.d.c.push(this));var e=this.kb(),d=d.kb();qa(this.d.c,e);e<d&&d--;c&&d++;d===this.d.c.length?this.d.c.push(this):this.d.c.splice(d,0,this);this.d.fb=l;this.b.W=l}}},k.sp=function(a){a.Y(this.d.Ak)},k.rp=function(a){a.Zb(this.d.name)},k.aq=function(a){a.Y(this.kb())});b&&(e.Lp=function(a,b){if(this.b.D){var c=this.type.Ah(b);
if(!(0>c)){var d=1===a;this.Kc[c]!==d&&(this.Kc[c]=d,this.Ic(),this.b.W=l)}}},e.Mp=function(a,b,c){if(this.b.D){var d=this.type.Ah(a);0>d||(a=this.type.A[d],d=this.ba[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.D.vn(a.Ca,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.sc&&(this.b.W=l))))}})}function Rb(){this.bh=l;this.b.W=l;var b,k;b=0;for(k=this.Gf.length;b<k;b++)this.Gf[b](this)}function Sb(b){b&&this.Gf.push(b)}
function Ub(){if(this.bh){this.N.set(this.x,this.y,this.x+this.width,this.y+this.height);this.N.offset(-this.Ua*this.width,-this.Va*this.height);this.g?(this.N.offset(-this.x,-this.y),this.qd.hl(this.N,this.g),this.qd.offset(this.x,this.y),this.qd.pj(this.N)):this.qd.Ii(this.N);var b=0;this.N.left>this.N.right&&(b=this.N.left,this.N.left=this.N.right,this.N.right=b);this.N.top>this.N.bottom&&(b=this.N.top,this.N.top=this.N.bottom,this.N.bottom=b);this.bh=q}}
function Tb(b,k){return!this.N.vc(b,k)||!this.qd.vc(b,k)?q:this.fc&&!this.fc.Vn()?(this.fc.hm(this.width,this.height,this.g),this.fc.vc(b-this.x,k-this.y)):l}function Pb(){this.type.Ng();return this.Ne}function Vb(){this.d.Oo();return this.Jd}function Wb(){this.M.length=0;var b,k;b=0;for(k=this.Kc.length;b<k;b++)this.Kc[b]&&this.M.push(this.type.A[b]);this.Cl=!!this.M.length}function Qb(){return"Inst"+this.Wk}
function Ab(b){if(b&&b.lb&&b.type!=this){var k,f,h;k=0;for(f=b.siblings.length;k<f;k++)if(h=b.siblings[k],h.type==this)return h}b=this.R().Pb();return b.length?b[0]:p}function Bb(b){var k=this.R().Pb();return k.length?k[b.Ke()%k.length]:p}function zb(){if(this.ed&&!this.G){var b,k;b=0;for(k=this.c.length;b<k;b++)this.c[b].Ne=b;this.ed=q}}function Cb(){return this.cd[this.xc]}function Db(){this.xc++;this.xc===this.cd.length?this.cd.push(new Xa(this)):this.cd[this.xc].X=l}
function Ib(){this.xc++;this.xc===this.cd.length&&this.cd.push(new Xa(this));var b=this.cd[this.xc],k=this.cd[this.xc-1];k.X?b.X=l:(b.X=q,ra(b.c,k.c))}function Jb(){this.xc--}function Kb(b){var k,f,h,d,n,a=0;if(!this.G){k=0;for(f=this.U.length;k<f;k++){n=this.U[k];h=0;for(d=n.fa.length;h<d;h++){if(b===n.fa[h].name)return this.Z.hk=a,n.fa[h];a++}}}k=0;for(f=this.fa.length;k<f;k++){if(b===this.fa[k].name)return this.Z.hk=a,this.fa[k];a++}return p}function Lb(b){return this.Uf(b)?this.Z.hk:-1}
function Mb(b){var k,f;k=0;for(f=this.A.length;k<f;k++)if(this.A[k].name===b)return k;return-1}function Nb(){if(this.lb&&!this.G){var b,k,f,h,d,n,a;this.Ng();n=this.R();var c=n.X,w=(b=this.b.Sa())&&b.sb&&b.sb.nc;b=0;for(k=this.Na.length;b<k;b++)if(d=this.Na[b],d!==this&&(d.Ng(),a=d.R(),a.X=c,!c)){a.c.length=n.c.length;f=0;for(h=n.c.length;f<h;f++)a.c[f]=d.c[n.c[f].Ne];if(w){a.T.length=n.T.length;f=0;for(h=n.T.length;f<h;f++)a.T[f]=d.c[n.T[f].Ne]}}}}function Ob(){return"Type"+this.H}
function Xb(b,k,f){if("undefined"===typeof b||"undefined"===typeof f)return q;switch(k){case 0:return b===f;case 1:return b!==f;case 2:return b<f;case 3:return b<=f;case 4:return b>f;case 5:return b>=f;default:return q}}var wb={};function Yb(b){this.b=b}
(function(){function b(a){0>a&&(a=0);1<a&&(a=1);return 20*(Math.log(a)/Math.log(10))}function k(a){a=a.toLowerCase();return R.hasOwnProperty(a)&&R[a].length?R[a][0].jb():A.destination}function f(){return A.createGain?A.createGain():A.createGainNode()}function h(a){return A.createDelay?A.createDelay(a):A.createDelayNode(a)}function d(a){a.start?a.start(0):a.noteOn(0)}function n(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function a(a){a.stop?a.stop(0):a.noteOff(0)}function c(a,b,c,d,e,g){this.type=
"filter";this.Ub=[a,b,c,d,e,g];this.J=f();this.u=f();this.u.gain.value=g;this.r=f();this.r.gain.value=1-g;this.ha=A.createBiquadFilter();this.ha.type="number"===typeof this.ha.type?a:ac[a];this.ha.frequency.value=b;this.ha.detune&&(this.ha.detune.value=c);this.ha.Q.value=d;this.ha.gain.value=e;this.J.connect(this.ha);this.J.connect(this.r);this.ha.connect(this.u)}function w(a,b,c){this.type="delay";this.Ub=[a,b,c];this.J=f();this.u=f();this.u.gain.value=c;this.r=f();this.r.gain.value=1-c;this.cf=
f();this.ub=h(a);this.ub.delayTime.value=a;this.Nf=f();this.Nf.gain.value=b;this.J.connect(this.cf);this.J.connect(this.r);this.cf.connect(this.u);this.cf.connect(this.ub);this.ub.connect(this.Nf);this.Nf.connect(this.cf)}function e(a,b,c,d){this.type="convolve";this.Ub=[b,c,d];this.J=f();this.u=f();this.u.gain.value=c;this.r=f();this.r.gain.value=1-c;this.rd=A.createConvolver();a&&(this.rd.normalize=b,this.rd.buffer=a);this.J.connect(this.rd);this.J.connect(this.r);this.rd.connect(this.u)}function g(a,
b,c,e,g){this.type="flanger";this.Ub=[a,b,c,e,g];this.J=f();this.r=f();this.r.gain.value=1-g/2;this.u=f();this.u.gain.value=g/2;this.Sf=f();this.Sf.gain.value=e;this.ub=h(a+b);this.ub.delayTime.value=a;this.xa=A.createOscillator();this.xa.frequency.value=c;this.$a=f();this.$a.gain.value=b;this.J.connect(this.ub);this.J.connect(this.r);this.ub.connect(this.u);this.ub.connect(this.Sf);this.Sf.connect(this.ub);this.xa.connect(this.$a);this.$a.connect(this.ub.delayTime);d(this.xa)}function m(a,b,c,e,
g,h){this.type="phaser";this.Ub=[a,b,c,e,g,h];this.J=f();this.r=f();this.r.gain.value=1-h/2;this.u=f();this.u.gain.value=h/2;this.ha=A.createBiquadFilter();this.ha.type="number"===typeof this.ha.type?7:"allpass";this.ha.frequency.value=a;this.ha.detune&&(this.ha.detune.value=b);this.ha.Q.value=c;this.xa=A.createOscillator();this.xa.frequency.value=g;this.$a=f();this.$a.gain.value=e;this.J.connect(this.ha);this.J.connect(this.r);this.ha.connect(this.u);this.xa.connect(this.$a);this.$a.connect(this.ha.frequency);
d(this.xa)}function s(a){this.type="gain";this.Ub=[a];this.L=f();this.L.gain.value=a}function x(a,b){this.type="tremolo";this.Ub=[a,b];this.L=f();this.L.gain.value=1-b/2;this.xa=A.createOscillator();this.xa.frequency.value=a;this.$a=f();this.$a.gain.value=b/2;this.xa.connect(this.$a);this.$a.connect(this.L.gain);d(this.xa)}function u(a,b){this.type="ringmod";this.Ub=[a,b];this.J=f();this.u=f();this.u.gain.value=b;this.r=f();this.r.gain.value=1-b;this.of=f();this.of.gain.value=0;this.xa=A.createOscillator();
this.xa.frequency.value=a;this.xa.connect(this.of.gain);d(this.xa);this.J.connect(this.of);this.J.connect(this.r);this.of.connect(this.u)}function v(a,b,c,d,e){this.type="distortion";this.Ub=[a,b,c,d,e];this.J=f();this.Ag=f();this.zg=f();this.Eo(c,Math.pow(10,d/20));this.u=f();this.u.gain.value=e;this.r=f();this.r.gain.value=1-e;this.Pg=A.createWaveShaper();this.Lf=new Float32Array(65536);this.en(a,b);this.Pg.Lf=this.Lf;this.J.connect(this.Ag);this.J.connect(this.r);this.Ag.connect(this.Pg);this.Pg.connect(this.zg);
this.zg.connect(this.u)}function r(a,b,c,d,e){this.type="compressor";this.Ub=[a,b,c,d,e];this.L=A.createDynamicsCompressor();this.L.threshold.value=a;this.L.knee.value=b;this.L.ratio.value=c;this.L.attack.value=d;this.L.release.value=e}function D(a,b){this.type="analyser";this.Ub=[a,b];this.L=A.createAnalyser();this.L.fftSize=a;this.L.smoothingTimeConstant=b;this.cn=new Float32Array(this.L.frequencyBinCount);this.jl=new Uint8Array(a);this.wo=this.jf=0}function C(){this.F=p;this.qg=0;this.dd=[];this.ci=
this.kg=this.jg=0}function L(a,b){this.src=a;this.V=K;this.Ve=b;this.kj=q;var c=this;this.wk=this.li=p;this.ke=[];this.Eg=0;this.wg=q;K===B&&(b&&!t.gg)&&(this.V=G,this.li=f());this.$=p;var d;switch(this.V){case G:this.$=new Audio;K===B&&this.$.addEventListener("canplay",function(){c.wk=A.createMediaElementSource(c.$);c.wk.connect(c.li)});this.$.autoplay=q;this.$.uq="auto";this.$.src=a;break;case B:d=new XMLHttpRequest;d.open("GET",a,l);d.responseType="arraybuffer";d.onload=function(){if(A.decodeAudioData)A.decodeAudioData(d.response,
function(a){c.$=a;var b,d,e;if(ba(c.xg))ba(c.Jf)||(b=c.Jf.rd,b.normalize=c.zk,b.buffer=a);else if(c.ke.length){b=0;for(d=c.ke.length;b<d;b++){a=c.ke[b];e=new E(c,a.pl);e.fl(l);if("undefined"!==typeof a.Bk&&(a.F=t.Xf(a.Bk),!a.F))continue;if(a.F){var g=Ga(a.F.x,a.F.y,a.F.d.ib(),za,Aa,l),f=Ga(a.F.x,a.F.y,a.F.d.ib(),za,Aa,q);e.Gi(g,f,ta(a.F.g+a.F.d.ib()),a.Gh,a.ei,a.hi);e.pf(a.F)}else e.Gi(a.x,a.y,a.Wl,a.Gh,a.ei,a.hi);e.play(c.$h,c.Yi,c.Eg);c.wg&&e.pause();P.push(e)}c.ke.length=0}else e=new E(c,c.xg),
e.play(c.$h,c.Yi,c.Eg),c.wg&&e.pause(),P.push(e)});else if(c.$=A.createBuffer(d.response,q),ba(c.xg)){if(!ba(c.Jf)){var a=c.Jf.rd;a.normalize=c.zk;a.buffer=c.$}}else a=new E(c,c.xg),a.play(c.$h,c.Yi,c.Eg),c.wg&&a.pause(),P.push(a)};d.send();break;case H:this.$=l;break;case Y:this.$=l}}function E(a,b){var c=this;this.fd=b;this.$b=this.Rc=l;this.src=a.src;this.buffer=a;this.V=K;this.Ve=a.Ve;this.playbackRate=1;this.ni=l;this.Sc=this.Fc=q;this.Wb=0;this.Qh=this.Ph=this.Dc=q;this.df=this.volume=1;this.startTime=
t.Rb.nb;this.ca=this.Fa=p;this.oc=q;this.pa=p;this.Lk=this.Kk=this.Jk=this.Ik=this.Nk=this.Mk=0;this.e=p;var d=q;switch(this.V){case G:this.Ve?(this.e=a.$,d=!a.kj,a.kj=l):(this.e=new Audio,this.e.autoplay=q,this.e.src=a.$.src,d=l);d&&this.e.addEventListener("ended",function(){F=c.fd;c.$b=l;t.trigger(Yb.prototype.i.Tg,z)});break;case B:this.Fa=f();this.Fa.connect(k(b));this.buffer.V===B?a.$&&(this.e=A.createBufferSource(),this.e.buffer=a.$,this.e.connect(this.Fa)):(this.e=this.buffer.$,this.buffer.li.connect(this.Fa));
break;case H:this.e=new window.Media(J+this.src,p,p,function(a){a===window.Media.MEDIA_STOPPED&&(c.ni=l,c.$b=l,F=c.fd,t.trigger(Yb.prototype.i.Tg,z))});break;case Y:this.e=l}}function W(a,b){R.hasOwnProperty(a)?R[a].push(b):R[a]=[b];var c,d,e,g,f=A.destination;if(R.hasOwnProperty(a)&&(e=R[a],e.length)){f=e[0].jb();c=0;for(d=e.length;c<d;c++)g=e[c],c+1===d?g.qb(A.destination):g.qb(e[c+1].jb())}Ba.length=0;if(a.length){c=0;for(d=P.length;c<d;c++)e=P[c],a.toLowerCase()===e.fd.toLowerCase()&&Ba.push(e)}else cb&&
!cb.Me()&&(Ba.length=1,Ba[0]=cb);c=0;for(d=Ba.length;c<d;c++)Ba[c].to(f);wa&&db===a&&(wa.disconnect(),wa.connect(f))}function M(){}var I=Yb.prototype;I.Jb=function(a){this.ka=a;this.b=a.b};I.Jb.prototype.qa=aa();var t=p,z=p,F="",J="",G=0,B=1,H=2,Y=3,K=G,A=p,ha=[],P=[],cb=p,Ta=0,Ha=q,oa=1,za=0,Aa=0,eb=1,fb=1,Eb=10,Fb=1E4,Gb=1,wa=p,db="",R={},ac="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");c.prototype.qb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();
this.r.connect(a)};c.prototype.remove=function(){this.J.disconnect();this.ha.disconnect();this.u.disconnect();this.r.disconnect()};c.prototype.jb=N("J");w.prototype.qb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};w.prototype.remove=function(){this.J.disconnect();this.cf.disconnect();this.ub.disconnect();this.Nf.disconnect();this.u.disconnect();this.r.disconnect()};w.prototype.jb=N("J");e.prototype.qb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();
this.r.connect(a)};e.prototype.remove=function(){this.J.disconnect();this.rd.disconnect();this.u.disconnect();this.r.disconnect()};e.prototype.jb=N("J");g.prototype.qb=function(a){this.r.disconnect();this.r.connect(a);this.u.disconnect();this.u.connect(a)};g.prototype.remove=function(){this.J.disconnect();this.ub.disconnect();this.xa.disconnect();this.$a.disconnect();this.r.disconnect();this.u.disconnect();this.Sf.disconnect()};g.prototype.jb=N("J");m.prototype.qb=function(a){this.r.disconnect();
this.r.connect(a);this.u.disconnect();this.u.connect(a)};m.prototype.remove=function(){this.J.disconnect();this.ha.disconnect();this.xa.disconnect();this.$a.disconnect();this.r.disconnect();this.u.disconnect()};m.prototype.jb=N("J");s.prototype.qb=function(a){this.L.disconnect();this.L.connect(a)};s.prototype.remove=function(){this.L.disconnect()};s.prototype.jb=N("L");x.prototype.qb=function(a){this.L.disconnect();this.L.connect(a)};x.prototype.remove=function(){this.xa.disconnect();this.$a.disconnect();
this.L.disconnect()};x.prototype.jb=N("L");u.prototype.qb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};u.prototype.remove=function(){this.xa.disconnect();this.of.disconnect();this.J.disconnect();this.u.disconnect();this.r.disconnect()};u.prototype.jb=N("J");v.prototype.Eo=function(a,b){0.01>a&&(a=0.01);this.Ag.gain.value=a;this.zg.gain.value=Math.pow(1/a,0.6)*b};v.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/
d)*(a-b)));return b*c};v.prototype.en=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,g=0;32768>g;++g)e=g/32768,e=this.shape(e,c,d),this.Lf[32768+g]=e,this.Lf[32768-g-1]=-e};v.prototype.qb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};v.prototype.remove=function(){this.J.disconnect();this.Ag.disconnect();this.Pg.disconnect();this.zg.disconnect();this.u.disconnect();this.r.disconnect()};v.prototype.jb=N("J");r.prototype.qb=function(a){this.L.disconnect();
this.L.connect(a)};r.prototype.remove=function(){this.L.disconnect()};r.prototype.jb=N("L");D.prototype.Pa=function(){this.L.getFloatFrequencyData(this.cn);this.L.getByteTimeDomainData(this.jl);for(var a=this.L.fftSize,c=0,d=this.jf=0,e=0;c<a;c++)e=(this.jl[c]-128)/128,0>e&&(e=-e),this.jf<e&&(this.jf=e),d+=e*e;this.jf=b(this.jf);this.wo=b(Math.sqrt(d/a))};D.prototype.qb=function(a){this.L.disconnect();this.L.connect(a)};D.prototype.remove=function(){this.L.disconnect()};D.prototype.jb=N("L");C.prototype.pf=
function(a){if(this.F=a)this.jg=this.F.x,this.kg=this.F.y;this.dd.length=0};C.prototype.$f=function(){return!!this.F};C.prototype.Pa=function(a){this.F&&(this.ci=Ca(this.jg,this.kg,this.F.x,this.F.y),a=Ja(this.jg,this.kg,this.F.x,this.F.y)/a,4>this.dd.length||this.dd.shift(),this.dd.push(a),this.jg=this.F.x,this.kg=this.F.y)};C.prototype.Rj=function(){if(!this.dd.length)return 0;var a,b,c=0;a=0;for(b=this.dd.length;a<b;a++)c+=this.dd[a];return c/this.dd.length};C.prototype.Tj=function(){return Math.cos(this.ci)*
this.Rj()};C.prototype.Uj=function(){return Math.sin(this.ci)*this.Rj()};var Hb=q;E.prototype.Me=function(){switch(this.V){case G:return this.e.ended;case B:return this.buffer.V===B?!this.Rc&&!this.$b&&this.e.loop||this.Sc?q:t.Rb.nb-this.startTime>this.buffer.$.duration:this.e.ended;case H:return this.ni;case Y:l}return l};E.prototype.im=function(){return this.Rc||this.$b?l:this.Me()};E.prototype.fl=function(a){K===B&&(!this.oc&&a?(this.ca||(this.ca=A.createPanner(),this.ca.panningModel="number"===
typeof this.ca.panningModel?eb:["equalpower","HRTF","soundfield"][eb],this.ca.distanceModel="number"===typeof this.ca.distanceModel?fb:["linear","inverse","exponential"][fb],this.ca.refDistance=Eb,this.ca.maxDistance=Fb,this.ca.rolloffFactor=Gb),this.Fa.disconnect(),this.Fa.connect(this.ca),this.ca.connect(k(this.fd)),this.oc=l):this.oc&&!a&&(this.ca.disconnect(),this.Fa.disconnect(),this.Fa.connect(k(this.fd)),this.oc=q))};E.prototype.Gi=function(a,b,c,d,e,g){this.oc&&K===B&&(this.ca.setPosition(a,
b,0),this.ca.setOrientation(Math.cos(T(c)),Math.sin(T(c)),0),this.ca.coneInnerAngle=d,this.ca.coneOuterAngle=e,this.ca.coneOuterGain=g,this.Mk=a,this.Nk=b,this.Ik=c,this.Jk=d,this.Kk=e,this.Lk=g)};E.prototype.pf=function(a){this.oc&&K===B&&(this.pa||(this.pa=new C),this.pa.pf(a))};E.prototype.Pa=function(a){if(this.oc&&!(K!==B||!this.pa||!this.pa.$f()||!this.Vd())){this.pa.Pa(a);a=this.pa.F;var b=Ga(a.x,a.y,a.d.ib(),za,Aa,l),c=Ga(a.x,a.y,a.d.ib(),za,Aa,q);this.ca.setPosition(b,c,0);b=0;"undefined"!==
typeof this.pa.F.g&&(b=a.g+a.d.ib(),this.ca.setOrientation(Math.cos(b),Math.sin(b),0));this.ca.setVelocity(this.pa.Tj(),this.pa.Uj(),0)}};E.prototype.play=function(a,b,c){var e=this.e;this.Dc=a;this.volume=b;c=c||0;switch(this.V){case G:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*oa&&(e.volume=b*oa);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=q);if(e.currentTime!==c)try{e.currentTime=c}catch(g){}this.e.play();break;case B:this.muted=q;this.df=1;if(this.buffer.V===B)this.Rc||(this.e=A.createBufferSource(),
this.e.buffer=this.buffer.$,this.e.connect(this.Fa)),this.e.loop=a,this.Fa.gain.value=b*oa,0===c?d(this.e):n(this.e,c,this.Rd());else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);this.Fa.gain.value=b*oa;if(e.currentTime!==c)try{e.currentTime=c}catch(f){}e.play()}break;case H:(!this.Rc&&this.$b||0!==c)&&e.seekTo(c);e.play();this.ni=q;break;case Y:t.zb?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=t.Rb.nb-c;this.Sc=this.$b=
this.Rc=q};E.prototype.stop=function(){switch(this.V){case G:this.e.paused||this.e.pause();break;case B:this.buffer.V===B?a(this.e):this.e.paused||this.e.pause();break;case H:this.e.stop()}this.$b=l;this.Sc=q};E.prototype.pause=function(){if(!this.Rc&&!this.$b&&!this.Me()&&!this.Sc){switch(this.V){case G:this.e.paused||this.e.pause();break;case B:this.buffer.V===B?(this.Wb=this.Ch(),this.Dc&&(this.Wb%=this.Rd()),a(this.e)):this.e.paused||this.e.pause();break;case H:this.e.pause()}this.Sc=l}};E.prototype.to=
function(a){this.V===B&&(this.oc?(this.ca.disconnect(),this.ca.connect(a)):(this.Fa.disconnect(),this.Fa.connect(a)))};E.prototype.Rd=function(){switch(this.V){case G:if("undefined"!==typeof this.e.duration)return this.e.duration;break;case B:return this.buffer.$.duration;case H:return this.e.getDuration()}return 0};E.prototype.Ch=function(){var a=this.Rd(),b=0;switch(this.V){case G:"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case B:if(this.buffer.V===B){if(this.Sc)return this.Wb;
b=t.Rb.nb-this.startTime}else"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime)}!this.Dc&&b>a&&(b=a);return b};E.prototype.Vd=function(){return!this.Sc&&!this.Rc&&!this.$b&&!this.Me()};E.prototype.No=function(){var a=this.volume*oa;switch(this.V){case G:this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case B:this.Fa.gain.value=a*this.df}};E.prototype.Ej=function(a){switch(this.V){case G:this.e.muted!==!!a&&(this.e.muted=!!a);break;case B:this.df=a?0:1,this.Fa.gain.value=oa*this.volume*
this.df}};E.prototype.gl=function(a){this.Qh=!!a;this.Ej(this.Ph||this.Qh)};E.prototype.Bl=function(){var a=this.playbackRate;if(1===Ta&&!this.Ve||2===Ta)a*=t.Hd;switch(this.V){case G:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case B:this.buffer.V===B?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};E.prototype.Fo=function(b){switch(this.V){case G:b?this.Vd()?(this.e.pause(),this.Fc=l):this.Fc=q:this.Fc&&this.e.play();break;
case B:b?this.Vd()?(this.buffer.V===B?(this.Wb=this.Ch(),this.Dc&&(this.Wb%=this.Rd()),a(this.e)):this.e.pause(),this.Fc=l):this.Fc=q:this.Fc&&(this.buffer.V===B?(this.e=A.createBufferSource(),this.e.buffer=this.buffer.$,this.e.connect(this.Fa),this.e.loop=this.Dc,this.Fa.gain.value=oa*this.volume*this.df,this.startTime=t.Rb.nb-this.Wb,n(this.e,this.Wb,this.Rd())):this.e.play());break;case H:b?this.Vd()?(this.e.pause(),this.Fc=l):this.Fc=q:this.Fc&&this.e.play()}};I.Qa=function(a){this.type=a;t=this.b=
a.b;z=this;this.Ia=p;this.$e=-600;A=p;"undefined"!==typeof AudioContext?(K=B,A=new AudioContext):"undefined"!==typeof webkitAudioContext&&(K=B,A=new webkitAudioContext);this.b.gg&&K===B&&document.addEventListener("touchstart",function(){if(!Hb){var a=A.createBuffer(1,1,22050),b=A.createBufferSource();b.buffer=a;b.connect(A.destination);d(b);Hb=l}},l);K!==B&&(this.b.Bd?K=H:this.b.Td&&(K=Y));K===H&&(J=location.href,a=J.lastIndexOf("/"),-1<a&&(J=J.substr(0,a+1)),J=J.replace("file://",""));if(this.b.Qn&&
this.b.ek&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.md(this);else{if(!this.b.zb)try{new Audio}catch(b){}this.b.rl(this)}};var pa=I.Qa.prototype;pa.qa=function(){Ta=this.Aa[0];eb=this.Aa[1];fb=this.Aa[2];this.$e=-this.Aa[3];Eb=this.Aa[4];Fb=this.Aa[5];Gb=this.Aa[6];this.Ia=new C;K===B&&(A.listener.speedOfSound=this.Aa[7],A.listener.dopplerFactor=this.Aa[8],A.listener.setPosition(this.b.width/
2,this.b.height/2,this.$e),A.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){wa&&wa.disconnect();db=b.toLowerCase();wa=A.createMediaStreamSource(a);wa.connect(k(db))});this.b.jj(function(a){z.ko(a)});var a=this;this.b.$l(function(b){a.bo(b)})};pa.bo=function(a){var b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.pa&&d.pa.F===a&&(d.pa.F=p,d.oc&&(d.Vd()&&d.Dc)&&d.stop());this.Ia.F===a&&(this.Ia.F=p)};pa.Xb=function(){var a={silent:Ha,masterVolume:oa,listenerZ:this.$e,listenerUid:this.Ia.$f()?
this.Ia.F.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,g,f,h;c=0;for(d=P.length;c<d;c++)e=P[c],e.Vd()&&(g=e.Ch(),e.Dc&&(g%=e.Rd()),g={tag:e.fd,buffersrc:e.buffer.src,is_music:e.Ve,playbackTime:g,volume:e.volume,looping:e.Dc,muted:e.Ph,playbackRate:e.playbackRate,paused:e.Sc,resume_position:e.Wb},e.oc&&(g.pan={},h=g.pan,e.pa&&e.pa.$f()?h.objUid=e.pa.F.uid:(h.x=e.Mk,h.y=e.Nk,h.a=e.Ik),h.ia=e.Jk,h.oa=e.Kk,h.og=e.Lk),b.push(g));b=a.effects;for(f in R)if(R.hasOwnProperty(f)){e=[];c=0;for(d=R[f].length;c<
d;c++)e.push({type:R[f][c].type,params:R[f][c].Ub});b[f]=e}return a};var Ia=[];pa.Cc=function(a){var b=a.silent;oa=a.masterVolume;this.$e=a.listenerZ;this.Ia.pf(p);var d=a.listenerUid;-1!==d&&(this.Ia.qg=d,Ia.push(this.Ia));var d=a.playing,f,h,k,n,t,E,L,A,z,y,B;f=0;for(h=P.length;f<h;f++)P[f].stop();for(t in R)if(R.hasOwnProperty(t)){f=0;for(h=R[t].length;f<h;f++)R[t][f].remove()}Ma(R);for(t in a.effects)if(a.effects.hasOwnProperty(t)){E=a.effects[t];f=0;for(h=E.length;f<h;f++)switch(k=E[f].type,
y=E[f].params,k){case "filter":W(t,new c(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":W(t,new w(y[0],y[1],y[2]));break;case "convolve":k=y[2];n=this.xh(k,q);n.$?k=new e(n.$,y[0],y[1],k):(k=new e(p,y[0],y[1],k),n.zk=y[0],n.Jf=k);W(t,k);break;case "flanger":W(t,new g(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":W(t,new m(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":W(t,new s(y[0]));break;case "tremolo":W(t,new x(y[0],y[1]));break;case "ringmod":W(t,new u(y[0],y[1]));break;case "distortion":W(t,
new v(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":W(t,new r(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":W(t,new D(y[0],y[1]))}}f=0;for(h=d.length;f<h;f++)a=d[f],k=a.buffersrc,n=a.is_music,t=a.tag,E=a.playbackTime,L=a.looping,A=a.volume,B=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,(z=this.hn(k,t,n,L,A))?(z.Wb=a.resume_position,z.fl(!!y),z.play(L,A,E),z.Bl(),z.No(),z.Ej(z.Ph||z.Qh),a.paused&&z.pause(),a.muted&&z.rq(),y&&(-1!==B?(z.pa=z.pa||new C,z.pa.qg=B,Ia.push(z.pa)):z.Gi(y.x,
y.y,y.a,y.ia,y.oa,y.og))):(n=this.xh(k,n),n.Eg=E,n.wg=a.paused,y&&(-1!==B?n.ke.push({Bk:B,Gh:y.ia,ei:y.oa,hi:y.og,pl:t}):n.ke.push({x:y.x,y:y.y,Wl:y.a,Gh:y.ia,ei:y.oa,hi:y.og,pl:t})));if(b&&!Ha){f=0;for(h=P.length;f<h;f++)P[f].gl(l);Ha=l}else if(!b&&Ha){f=0;for(h=P.length;f<h;f++)P[f].gl(q);Ha=q}};pa.Ef=function(){var a,b,c,d;a=0;for(b=Ia.length;a<b;a++)c=Ia[a],d=this.b.Xf(c.qg),c.pf(d),c.qg=-1,d&&(za=d.x,Aa=d.y);Ia.length=0};pa.ko=function(a){var b,c;b=0;for(c=P.length;b<c;b++)P[b].Fo(a)};pa.Pa=
function(){var a=this.b.ud,b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.Pa(a),d.V!==G&&d.V!==Y&&(!d.Rc&&!d.$b&&d.Me())&&(d.$b=l,F=d.fd,t.trigger(Yb.prototype.i.Tg,z)),0!==Ta&&d.Bl();var e,g;for(e in R)if(R.hasOwnProperty(e)){d=R[e];b=0;for(c=d.length;b<c;b++)g=d[b],g.Pa&&g.Pa()}K===B&&this.Ia.$f()&&(this.Ia.Pa(a),za=this.Ia.F.x,Aa=this.Ia.F.y,A.listener.setPosition(this.Ia.F.x,this.Ia.F.y,this.$e),A.listener.setVelocity(this.Ia.Tj(),this.Ia.Uj(),0))};pa.xh=function(a,b){var c,d,e;c=0;for(d=ha.length;c<
d;c++)if(e=ha[c],e.src===a)return e;e=new L(a,b);ha.push(e);return e};pa.hn=function(a,b,c,d,e){var g,f,h;g=0;for(f=P.length;g<f;g++)if(h=P[g],h.src===a&&(h.im()||c))return h.fd=b,h;a=this.xh(a,c);if(!a.$)return"<preload>"!==b&&(a.xg=b,a.$h=d,a.Yi=e),p;h=new E(a,b);P.push(h);return h};var Ba=[];M.prototype.Tg=function(a){return F.toLowerCase()===a.toLowerCase()};I.i=new M;I.ma=new (aa());I.hb=new (aa())})();function Zb(b){this.b=b}
(function(){function b(){}var k=Zb.prototype;k.Jb=function(b){this.ka=b;this.b=b.b};k.Jb.prototype.qa=aa();k.Qa=function(b){this.type=b;this.b=b.b};k.Qa.prototype.qa=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(Zb.prototype.i.Sl,b)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(Zb.prototype.i.Pl,b)}),window.addEventListener("offline",function(){b.b.trigger(Zb.prototype.i.Ol,b)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){b.b.$d=1;b.b.trigger(Zb.prototype.i.dj,b)}),window.applicationCache.addEventListener("progress",function(h){b.b.$d=h.loaded/h.total}));this.b.zb||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(Zb.prototype.i.dj,b)}),document.addEventListener("menubutton",function(){b.b.trigger(Zb.prototype.i.Nl,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(Zb.prototype.i.Tl,b)}));this.b.jj(function(h){h?
b.b.trigger(Zb.prototype.i.Ql,b):b.b.trigger(Zb.prototype.i.Rl,b)});this.lq="undefined"!==typeof window.is_scirra_arcade;this.fq=""};b.prototype.Pl=O(l);b.prototype.Ol=O(l);b.prototype.dj=O(l);b.prototype.Rl=O(l);b.prototype.Ql=O(l);b.prototype.Sl=O(l);b.prototype.Nl=O(l);b.prototype.Tl=O(l);k.i=new b;k.ma=new (aa());k.hb=new (aa())})();function X(b){this.b=b}
(function(){function b(){if(0===this.nh.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.oe?b.drawImage(this.Ka,this.ie,this.je,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ka,0,0,this.width,this.height);this.nh=a.toDataURL("image/png")}return this.nh}function k(){}function f(){}var h=X.prototype;h.Jb=function(a){this.ka=a;this.b=a.b};var d=h.Jb.prototype;d.qa=function(){if(!this.G){var a,c,d,f,h,k,n,r,w;this.Kb=
[];this.ag=q;a=0;for(c=this.Ra.length;a<c;a++){h=this.Ra[a];n={};n.name=h[0];n.speed=h[1];n.loop=h[2];n.Ai=h[3];n.Dg=h[4];n.Ok=h[5];n.H=h[6];n.frames=[];d=0;for(f=h[7].length;d<f;d++)k=h[7][d],r={},r.nl=k[0],r.ol=k[1],r.ie=k[2],r.je=k[3],r.width=k[4],r.height=k[5],r.duration=k[6],r.Ua=k[7],r.Va=k[8],r.Hh=k[9],r.yg=k[10],r.Pk=k[11],r.oe=0!==r.width,r.nh="",r.iq=b,w={left:0,top:0,right:1,bottom:1},r.Ki=w,r.ld=p,(w=this.b.bn(k[0]))?r.Ka=w:(r.Ka=new Image,r.Ka.src=k[0],r.Ka.lm=k[0],r.Ka.km=k[1],r.Ka.gm=
p,this.b.kd.push(r.Ka)),n.frames.push(r),this.Kb.push(r);this.Ra[a]=n}}};d.Mo=function(){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.Kf=c.rb.ld};d.Ck=function(){if(!this.G){var a,b,c;a=0;for(b=this.Kb.length;a<b;++a)c=this.Kb[a],c.Ka.gm=p,c.ld=p}};d.Ek=function(){if(!this.G&&this.c.length){var a,b,c;a=0;for(b=this.Kb.length;a<b;++a)c=this.Kb[a],c.ld=this.b.D.rk(c.Ka,this.b.na,c.Pk);this.Mo()}};d.Yn=function(){if(!this.G&&!this.ag&&this.b.D){var a,b,c;a=0;for(b=this.Kb.length;a<b;++a)c=
this.Kb[a],c.ld=this.b.D.rk(c.Ka,this.b.na,c.Pk);this.ag=l}};d.zl=function(){if(!this.G&&!this.c.length&&this.ag){var a,b,c;a=0;for(b=this.Kb.length;a<b;++a)c=this.Kb[a],this.b.D.deleteTexture(c.ld);this.ag=q}};var n=[];d.Sk=function(a){var b,c,d;b=n.length=0;for(c=this.Kb.length;b<c;++b)d=this.Kb[b].Ka,-1===n.indexOf(d)&&(a.drawImage(d,0,0),n.push(d))};h.Qa=function(a){this.type=a;this.b=a.b;a=this.type.Ra[0].frames[0].yg;this.Ec?this.fc.rf(a):this.fc=new Ra(a)};var a=h.Qa.prototype;a.qa=function(){this.visible=
0===this.Aa[0];this.Xj=this.Rn=q;this.If=0!==this.Aa[3];!(1===this.type.Ra.length&&1===this.type.Ra[0].frames.length)&&0!==this.type.Ra[0].speed&&(this.b.rl(this),this.Rn=l);this.aa=this.Mj(this.Aa[1])||this.type.Ra[0];this.k=this.Aa[2];0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);var a=this.aa.frames[this.k];this.fc.rf(a.yg);this.Ua=a.Ua;this.Va=a.Va;this.Ae=this.aa.speed;this.yc=this.Wf();this.od=l;this.tc=0;this.nd=l;this.fh=this.lj="";this.jm=0;this.eh=
-1;this.type.Yn();var b,c,d,f,h,k,n,a=0;for(b=this.type.Ra.length;a<b;a++){f=this.type.Ra[a];c=0;for(d=f.frames.length;c<d;c++)h=f.frames[c],0===h.width&&(h.width=h.Ka.width,h.height=h.Ka.height),h.oe&&(n=h.Ka,k=h.Ki,k.left=h.ie/n.width,k.top=h.je/n.height,k.right=(h.ie+h.width)/n.width,k.bottom=(h.je+h.height)/n.height,0===h.ie&&(0===h.je&&h.width===n.width&&h.height===n.height)&&(h.oe=q))}this.rb=this.aa.frames[this.k];this.Kf=this.rb.ld};a.Xb=function(){var a={a:this.aa.H,f:this.k,cas:this.Ae,
fs:this.yc,ar:this.tc};this.od||(a.ap=this.od);this.nd||(a.af=this.nd);return a};a.Cc=function(a){var b=this.gn(a.a);b&&(this.aa=b);this.k=a.f;0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);this.Ae=a.cas;this.yc=a.fs;this.tc=a.ar;this.od=a.hasOwnProperty("ap")?a.ap:l;this.nd=a.hasOwnProperty("af")?a.af:l;this.rb=this.aa.frames[this.k];this.Kf=this.rb.ld;this.fc.rf(this.rb.yg);this.Ua=this.rb.Ua;this.Va=this.rb.Va};a.ah=function(a){this.k=a?0:this.aa.frames.length-
1;this.od=q;this.lj=this.aa.name;this.Xj=l;this.b.trigger(X.prototype.i.Hl,this);this.b.trigger(X.prototype.i.Gl,this);this.Xj=q;this.tc=0};a.Wf=function(){return(Date.now()-this.b.tf)/1E3};a.Pa=function(){this.fh.length&&this.om();0<=this.eh&&this.pm();var a=this.Wf(),b=this.aa,c=b.frames[this.k],d=c.duration/this.Ae,f=this.b.Hd;-1!==this.Dd&&(f=this.Dd);d/=0===f?1E-9:f;if(this.od&&a>=this.yc+d){this.nd?this.k++:this.k--;this.yc+=d;this.k>=b.frames.length&&(b.Ok?(this.nd=q,this.k=b.frames.length-
2):b.loop?this.k=b.Dg:(this.tc++,this.tc>=b.Ai?this.ah(q):this.k=b.Dg));0>this.k&&(b.Ok?(this.k=1,this.nd=l,b.loop||(this.tc++,this.tc>=b.Ai&&this.ah(l))):b.loop?this.k=b.Dg:(this.tc++,this.tc>=b.Ai?this.ah(l):this.k=b.Dg));0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1);if(a>this.yc+b.frames[this.k].duration/this.Ae/(0===f?1E-9:f))this.yc=a;a=b.frames[this.k];this.ue(c,a);this.b.W=l}};a.Mj=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.Ra.length;a<b;a++)if(c=this.type.Ra[a],
c.name.toLowerCase()===d)return c;return p};a.gn=function(a){var b,c,d;b=0;for(c=this.type.Ra.length;b<c;b++)if(d=this.type.Ra[b],d.H===a)return d;return p};a.om=function(){var a=this.aa.frames[this.k],b=this.Mj(this.fh);this.fh="";b&&!(b.name.toLowerCase()===this.aa.name.toLowerCase()&&this.od)&&(this.aa=b,this.Ae=b.speed,0>this.k&&(this.k=0),this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1),1===this.jm&&(this.k=0),this.od=l,this.yc=this.Wf(),this.nd=l,this.ue(a,this.aa.frames[this.k]),
this.b.W=l)};a.pm=function(){var a=this.aa.frames[this.k],b=this.k;this.k=ja(this.eh);0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);b!==this.k&&(this.ue(a,this.aa.frames[this.k]),this.yc=this.Wf(),this.b.W=l);this.eh=-1};a.ue=function(a,b){var c=a.width,d=a.height,f=b.width,h=b.height;c!=f&&(this.width*=f/c);d!=h&&(this.height*=h/d);this.Ua=b.Ua;this.Va=b.Va;this.fc.rf(b.yg);this.Ba();this.rb=b;this.Kf=b.ld;c=0;for(d=this.I.length;c<d;c++)f=this.I[c],f.jo&&f.jo(a,
b);this.b.trigger(X.prototype.i.ue,this)};a.td=function(a){a.globalAlpha=this.opacity;var b=this.rb,c=b.oe,d=b.Ka,f=this.x,h=this.y,k=this.width,n=this.height;if(0===this.g&&0<=k&&0<=n)f-=this.Ua*k,h-=this.Va*n,this.b.le&&(f=f+0.5|0,h=h+0.5|0),c?a.drawImage(d,b.ie,b.je,b.width,b.height,f,h,k,n):a.drawImage(d,f,h,k,n);else{this.b.le&&(f=f+0.5|0,h=h+0.5|0);a.save();var w=0<k?1:-1,C=0<n?1:-1;a.translate(f,h);(1!==w||1!==C)&&a.scale(w,C);a.rotate(this.g*w*C);f=0-this.Ua*ea(k);h=0-this.Va*ea(n);c?a.drawImage(d,
b.ie,b.je,b.width,b.height,f,h,ea(k),ea(n)):a.drawImage(d,f,h,ea(k),ea(n));a.restore()}};a.ic=function(a){a.Yb(this.Kf);a.qf(this.opacity);var b=this.rb,c=this.qd;if(this.b.le){var d=(this.x+0.5|0)-this.x,f=(this.y+0.5|0)-this.y;b.oe?a.Fd(c.bb+d,c.cb+f,c.ac+d,c.cc+f,c.Nb+d,c.Ob+f,c.Lb+d,c.Mb+f,b.Ki):a.Cg(c.bb+d,c.cb+f,c.ac+d,c.cc+f,c.Nb+d,c.Ob+f,c.Lb+d,c.Mb+f)}else b.oe?a.Fd(c.bb,c.cb,c.ac,c.cc,c.Nb,c.Ob,c.Lb,c.Mb,b.Ki):a.Cg(c.bb,c.cb,c.ac,c.cc,c.Nb,c.Ob,c.Lb,c.Mb)};a.pn=function(a){var b=this.rb,
c,d;c=0;for(d=b.Hh.length;c<d;c++)if(a.toLowerCase()===b.Hh[c][0].toLowerCase())return c;return-1};a.He=function(a,b){var c=this.rb,d=c.Hh,f;f=S(a)?this.pn(a):a-1;f=ja(f);if(0>f||f>=d.length)return b?this.x:this.y;var h=(d[f][1]-c.Ua)*this.width,d=d[f][2],d=(d-c.Va)*this.height,c=Math.cos(this.g);f=Math.sin(this.g);var k=h*c-d*f,d=d*c+h*f,h=k+this.x,d=d+this.y;return b?h:d};var c=new Oa,w=q;d.finish=function(a){if(w){if(a){var b=this.b.Sa().sb.nc;a=p.R();var d=c.yf(),f,h;if(a.X){a.X=q;a.c.length=
d.length;f=0;for(h=d.length;f<h;f++)a.c[f]=d[f];if(b){f=a.T.length=0;for(h=p.c.length;f<h;f++)b=p.c[f],c.contains(b)||a.T.push(b)}}else{var k=a.c.length;a.c.length=k+d.length;f=0;for(h=d.length;f<h;f++)a.c[k+f]=d[f],b&&sa(a.T,d[f])}p.ve()}c.clear();w=q}};k.prototype.Gl=function(a){return this.lj.toLowerCase()===a.toLowerCase()};k.prototype.Hl=O(l);k.prototype.ue=O(l);h.i=new k;f.prototype.Zg=function(a,b,c){if(a&&b&&(b=this.b.yj(a,b,this.He(c,l),this.He(c,q)))){"undefined"!==typeof b.g&&(b.g=this.g,
b.Ba());this.b.Qb++;var d,f,h;this.b.trigger(Object.getPrototypeOf(a.ka).i.Sg,b);if(b.lb){d=0;for(f=b.siblings.length;d<f;d++)h=b.siblings[d],this.b.trigger(Object.getPrototypeOf(h.type.ka).i.Sg,h)}this.b.Qb--;d=this.b.kn();c=q;if(ba(d.Z.ej)||d.Z.ej<this.b.Pd)c=l,d.Z.ej=this.b.Pd;if(a!=this.type&&(a=a.R(),a.X=q,c?(a.c.length=1,a.c[0]=b):a.c.push(b),b.lb)){d=0;for(f=b.siblings.length;d<f;d++)h=b.siblings[d],a=h.type.R(),a.X=q,c?(a.c.length=1,a.c[0]=h):a.c.push(h)}}};h.ma=new f;h.hb=new (aa())})();
function Z(b){this.b=b}
(function(){function b(a){c=a.x;w=a.y;e=a.El}function k(a){g=a.x;m=a.y;s=a.El}function f(){}function h(){}var d=Z.prototype;d.Jb=function(a){this.ka=a;this.b=a.b};d.Jb.prototype.qa=aa();d.Qa=function(a){this.type=a;this.b=a.b;this.touches=[];this.bi=q};var n=d.Qa.prototype,a={left:0,top:0};n.Ee=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var c=0,w=0,e=0,g=0,m=0,s=0;n.qa=function(){this.Sn=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);
this.Lg=this.hd=this.lh=this.kh=this.hj=this.gj=this.fj=this.Zl=this.Yl=this.Xl=this.hf=this.gf=this.ff=0;this.Qo=0!==this.Aa[0];var a=0<this.b.wb?document:this.b.canvas,c=document;this.b.zb?c=a=window.Canvas:this.b.mc&&(c=a=window);var d=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){d.io(a)},q),a.addEventListener("MSPointerMove",function(a){d.ho(a)},q),c.addEventListener("MSPointerUp",function(a){d.Dk(a)},q),c.addEventListener("MSPointerCancel",function(a){d.Dk(a)},
q),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},q),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},q))):(a.addEventListener("touchstart",function(a){d.Gk(a)},q),a.addEventListener("touchmove",function(a){d.Fk(a)},q),c.addEventListener("touchend",function(a){d.ki(a)},q),c.addEventListener("touchcancel",function(a){d.ki(a)},q));if(this.Sn){var e=function(a){a=a.reading;d.fj=a.accelerationX;d.gj=a.accelerationY;d.hj=a.accelerationZ},
f=function(a){a=a.reading;d.ff=a.yawDegrees;d.gf=a.pitchDegrees;d.hf=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",
e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",f))},q)}else window.addEventListener("deviceorientation",function(a){d.ff=a.alpha||0;d.gf=a.beta||0;d.hf=a.gamma||0},q),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Xl=a.accelerationIncludingGravity.x,d.Yl=a.accelerationIncludingGravity.y,d.Zl=a.accelerationIncludingGravity.z);a.acceleration&&(d.fj=a.acceleration.x,d.gj=a.acceleration.y,
d.hj=a.acceleration.z)},q);this.Qo&&!this.b.Wa&&(jQuery(document).mousemove(function(a){d.eo(a)}),jQuery(document).mousedown(function(a){d.co(a)}),jQuery(document).mouseup(function(a){d.fo(a)}));this.b.Td&&!this.b.zb&&AppMobi.accelerometer.watchAcceleration(b,{frequency:40,adjustForRotation:l});this.b.Bd&&navigator.accelerometer.watchAcceleration(k,p,{frequency:40});this.b.Lo(this)};n.ho=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE){b.preventDefault&&b.preventDefault();var c=this.Ee(b.pointerId),
d=Na();if(0<=c){var e=this.b.Wa?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||(c.mg=c.time,c.Rh=c.x,c.Sh=c.y,c.time=d,c.x=b.pageX-e.left,c.y=b.pageY-e.top)}}};n.io=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE){b.preventDefault&&b.preventDefault();var c=this.b.Wa?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top,e=Na();this.hd=this.touches.length;this.Lg=b.pointerId;this.touches.push({time:e,x:d,y:c,mg:e,Rh:d,Sh:c,id:b.pointerId,Ni:this.hd});this.b.trigger(Z.prototype.i.bj,
this);this.b.trigger(Z.prototype.i.Xg,this);this.kh=d;this.lh=c;this.b.trigger(Z.prototype.i.cj,this)}};n.Dk=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Ee(a.pointerId),this.hd=0<=a?this.touches[a].Ni:-1,this.Lg=0<=a?this.touches[a].id:-1,this.b.trigger(Z.prototype.i.aj,this),this.b.trigger(Z.prototype.i.Wg,this),0<=a&&this.touches.splice(a,1))};n.Fk=function(b){b.preventDefault&&b.preventDefault();var c=Na(),d,e,f,g;d=0;for(e=b.changedTouches.length;d<
e;d++)if(f=b.changedTouches[d],g=this.Ee(f.identifier),0<=g){var h=this.b.Wa?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||(g.mg=g.time,g.Rh=g.x,g.Sh=g.y,g.time=c,g.x=f.pageX-h.left,g.y=f.pageY-h.top)}};n.Gk=function(b){b.preventDefault&&b.preventDefault();var c=this.b.Wa?a:jQuery(this.b.canvas).offset(),d=Na(),e,f,g,h;e=0;for(f=b.changedTouches.length;e<f;e++)if(g=b.changedTouches[e],h=this.Ee(g.identifier),-1===h){h=g.pageX-c.left;var k=g.pageY-c.top;this.hd=this.touches.length;
this.Lg=g.identifier;this.touches.push({time:d,x:h,y:k,mg:d,Rh:h,Sh:k,id:g.identifier,Ni:this.hd});this.b.trigger(Z.prototype.i.bj,this);this.b.trigger(Z.prototype.i.Xg,this);this.kh=h;this.lh=k;this.b.trigger(Z.prototype.i.cj,this)}};n.ki=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Ee(d.identifier),this.hd=0<=d?this.touches[d].Ni:-1,this.Lg=0<=d?this.touches[d].id:-1,this.b.trigger(Z.prototype.i.aj,this),this.b.trigger(Z.prototype.i.Wg,
this),0<=d&&this.touches.splice(d,1)};n.gq=function(){return this.b.Td&&0===this.ff&&0!==e?90*e:this.b.Bd&&0===this.ff&&0!==s?90*s:this.ff};n.hq=function(){return this.b.Td&&0===this.gf&&0!==w?-90*w:this.b.Bd&&0===this.gf&&0!==m?-90*m:this.gf};n.jq=function(){return this.b.Td&&0===this.hf&&0!==c?90*c:this.b.Bd&&0===this.hf&&0!==g?90*g:this.hf};n.co=function(a){a.preventDefault&&this.b.Zf&&a.preventDefault();this.Gk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.bi=l};n.eo=function(a){a.preventDefault&&
this.b.Zf&&a.preventDefault();this.bi&&this.Fk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};n.fo=function(a){a.preventDefault&&this.b.Zf&&a.preventDefault();this.b.Zf=l;this.ki({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.bi=q};n.Pi=function(){var a,b,c,d=Na();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.mg=d)};f.prototype.Xg=O(l);f.prototype.Wg=O(l);f.prototype.cj=function(a){return!a?q:this.b.Jo(a,this.kh,this.lh)};f.prototype.Rg=
function(a){if(!a)return q;a=a.R();var b=a.Pb(),c,d,e=[],f,g,h,k;f=0;for(g=b.length;f<g;f++){var m=b[f];m.ec();h=0;for(k=this.touches.length;h<k;h++)if(d=this.touches[h],c=m.d.Ha(d.x,d.y,l),d=m.d.Ha(d.x,d.y,q),m.vc(c,d)){e.push(m);break}}return e.length?(a.X=q,a.c=e,l):q};f.prototype.bj=function(a){a=Math.floor(a);return a===this.hd};f.prototype.aj=function(a){a=Math.floor(a);return a===this.hd};d.i=new f;h.prototype.Cf=function(a,b){if(this.touches.length){var c,d,e,f,g;ba(b)?(c=this.b.Ie(0),d=c.scale,
e=c.Jc,f=c.Vc,g=c.g,c.scale=this.b.O.scale,c.Jc=1,c.Vc=1,c.g=this.b.O.g,a.B(c.Ha(this.touches[0].x,this.touches[0].y,l)),c.scale=d,c.Jc=e,c.Vc=f,c.g=g):(c=ca(b)?this.b.Ie(b):this.b.Bh(b))?a.B(c.Ha(this.touches[0].x,this.touches[0].y,l)):a.B(0)}else a.B(0)};h.prototype.Vl=function(a,b){if(this.touches.length){var c,d,e,f,g;ba(b)?(c=this.b.Ie(0),d=c.scale,e=c.Jc,f=c.Wc,g=c.g,c.scale=this.b.O.scale,c.Jc=1,c.Wc=1,c.g=this.b.O.g,a.B(c.Ha(this.touches[0].x,this.touches[0].y,q)),c.scale=d,c.Jc=e,c.Wc=f,
c.g=g):(c=ca(b)?this.b.Ie(b):this.b.Bh(b))?a.B(c.Ha(this.touches[0].x,this.touches[0].y,q)):a.B(0)}else a.B(0)};d.hb=new h})();function $b(b){this.b=b}(function(){var b=$b.prototype;b.Jb=function(b){this.ka=b;this.b=b.b};b.Jb.prototype.qa=aa();b.Qa=function(b){this.type=b;this.b=b.b};b.Qa.prototype.qa=aa();b.i=new (aa());b.ma=new (aa());b.hb=new (aa())})();
function xb(){return[p,"Layout 1",[[X,q,l,l,l,l,l,l,l,q],[Z,l,q,q,q,q,q,q,q,q],[$b,l,q,q,q,q,q,q,q,q],[Yb,l,q,q,q,q,q,q,q,q],[Zb,l,q,q,q,q,q,q,q,q]],[["t0",$b,q,[],0,0,p,p,[],q,q,5348170403011429,[],[]],["t1",Z,q,[],0,0,p,p,[],q,q,5360238741765463,[],[1]],["t2",Zb,q,[],0,0,p,p,[],q,q,0x8126f96920bbe,[],[]],["t3",Yb,q,[],0,0,p,p,[],q,q,432376389717995,[],[0,1,1,600,600,1E4,1,5E3,1]],["t4",X,q,[],0,0,p,[["Default",5,q,1,0,q,9288882041669008,[["images/mainback-sheet0.png",691,0,0,640,960,1,0.5,0.5,[],
[],4]]]],[],q,q,7744993750731581,[]],["t5",X,q,[],0,0,p,[["Default",5,q,1,0,q,0xe0c46851dd429,[["images/keyblue-sheet0.png",584,0,0,97,620,1,0.505155,0.5,[],[-0.206186,-0.453226,-0.0103092,-0.5,0.195876,-0.453226,0.463918,0,0.185567,0.451613,-0.0103092,0.493548,-0.195876,0.451613,-0.463917,0],0]]]],[],q,q,6785488449045881,[]],["t6",X,q,[],0,0,p,[["Default",5,q,1,0,q,0x5459a1ed47e3c,[["images/keyred-sheet0.png",584,0,0,97,620,1,0.505155,0.5,[],[-0.206186,-0.453226,-0.0103092,-0.5,0.195876,-0.453226,
0.463918,0,0.185567,0.451613,-0.0103092,0.493548,-0.195876,0.451613,-0.463917,0],3]]]],[],q,q,493302451532655,[]],["t7",X,q,[],0,0,p,[["Default",5,q,1,0,q,796630170312774,[["images/keyyellow-sheet0.png",584,0,0,97,620,1,0.505155,0.5,[],[-0.206186,-0.453226,-0.0103092,-0.5,0.195876,-0.453226,0.463918,0,0.185567,0.451613,-0.0103092,0.493548,-0.195876,0.451613,-0.463917,0],0]]]],[],q,q,0x5a19ad5785af6,[]],["t8",X,q,[],0,0,p,[["Default",5,q,1,0,q,0xf31abb85f3943,[["images/buff-sheet0.png",168,0,0,250,
250,1,0.5,0.5,[],[],3]]]],[],q,q,4838455988950261,[]]],[],[["Layout 1",960,640,q,"Event sheet 1",0xe38cfd1e7d65c,[["Layer 0",0,5219311130234725,l,[255,255,255],q,1,1,1,q,1,0,0,[[[480,320,0,960,640,0,0,1,0.5,0.5,0,0,[]],4,4,[],[],[0,"Default",0,1]],[[165,970,0,73,618,0,0,1,0.505155,0.5,0,0,[]],5,5,[],[],[0,"Default",0,1]],[[61,965,0,73,618,0,0,1,0.505155,0.5,0,0,[]],6,6,[],[],[0,"Default",0,1]],[[270,975,0,73,618,0,0,1,0.505155,0.5,0,0,[]],7,7,[],[],[0,"Default",0,1]],[[-100,320,0,96,640,0,0,1,0.5,
0.5,0,0,[]],8,8,[],[],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[1,"rand",0,0,q,q,570373674626009],[0,p,q,9692250052924356,[[1,Z.prototype.i.Xg,p,1,q,q,q,0x7772dad3fae6e]],[[-1,V.prototype.ma.Ul,p,4785139360629105,[[11,"rand"],[7,[19,V.prototype.hb.floor,[[19,V.prototype.hb.random,[[0,3]]]]]]]]],[[0,p,q,6241729585245597,[[-1,V.prototype.i.Qg,p,0,q,q,q,4987488846926999,[[11,"rand"],[8,0],[7,[0,0]]]]],[[8,X.prototype.ma.Zg,p,0x98a08963ffd06,[[4,5],[5,[0,0]],[7,[0,0]]]],[5,X.prototype.ma.Yg,
p,7946327514124541,[[0,[20,1,Z.prototype.hb.Cf,q,p]]]]]],[0,p,q,5045752634909366,[[-1,V.prototype.i.Qg,p,0,q,q,q,7863601355173718,[[11,"rand"],[8,0],[7,[0,1]]]]],[[8,X.prototype.ma.Zg,p,8817529584808895,[[4,6],[5,[0,0]],[7,[0,0]]]],[6,X.prototype.ma.Yg,p,5493479242196828,[[0,[20,1,Z.prototype.hb.Cf,q,p]]]]]],[0,p,q,904515051740922,[[-1,V.prototype.i.Qg,p,0,q,q,q,0x90fad4ad9362f,[[11,"rand"],[8,0],[7,[0,2]]]]],[[8,X.prototype.ma.Zg,p,8884893868781781,[[4,7],[5,[0,0]],[7,[0,0]]]],[7,X.prototype.ma.Yg,
p,5796201975458338,[[0,[20,1,Z.prototype.hb.Cf,q,p]]]]]]]],[0,p,q,0x714e2f97031d2,[[1,Z.prototype.i.Wg,p,1,q,q,q,0xe12d587f5cc8b]],[[5,X.prototype.ma.Kd,p,8932747419543741],[6,X.prototype.ma.Kd,p,7889262087027427],[7,X.prototype.ma.Kd,p,8493176418785058]],[[0,p,q,5017091713754418,[[1,Z.prototype.i.Rg,p,0,q,q,q,0xb56a0a62045c3,[[4,5]]]],[[5,X.prototype.ma.Kd,p,4631377499230072]]],[0,p,q,8856540839470791,[[1,Z.prototype.i.Rg,p,0,q,q,q,0x4ae97adf4bd58,[[4,6]]]],[[6,X.prototype.ma.Kd,p,7419552717579849]]],
[0,p,q,7314240436638085,[[1,Z.prototype.i.Rg,p,0,q,q,q,0xe1376098ce81b,[[4,7]]]],[[7,X.prototype.ma.Kd,p,8442050002082877]]]]]]]],"media/",q,960,640,4,l,l,q,"1.0",1,q,0,l,9,q,[]]};
